<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>（续）Pl/SQL 学习笔记Oracle 11g 从入门到精通第4章)</title>
      <link href="/2021/09/24/learnPlsql-2/"/>
      <url>/2021/09/24/learnPlsql-2/</url>
      
        <content type="html"><![CDATA[<hr><p>&emsp;&emsp;之前讲了大体上的plsql语法结构，这里则继续对plsql的存储过程、函数等内容进行具体的介绍，这一部分由于本人与不是很理解，因此在很多地方将书中的内容直接搬了过来，以便日后查阅学习<span id="more"></span></p><hr><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><p>之前介绍的代码结构什么的，所创建的 PL/SQL 程序都是匿名的，其缺点是每次执行时都要被重新编译，没有存在数据库中，不能被其他 PL/SQL 块调用。Oracle 允许在数据库的内部创建并存储编译过的 PL/SQL 程序，以便随时取用调用。</p><h3 id="创建过程"><a href="#创建过程" class="headerlink" title="创建过程"></a>创建过程</h3><p>过程是用来完成一系列操作的语句，创建方式如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE [OR REPLACE]  PROCEDURE&lt;过程名&gt;(</span><br><span class="line">    &lt;参数 1&gt;,[方式 1]&lt;数据类型 1&gt;，</span><br><span class="line">    &lt;参数 2&gt;,[方式 2]&lt;数据类型 2&gt;</span><br><span class="line">    ...</span><br><span class="line">)</span><br><span class="line">IS | AS</span><br><span class="line">PL/SQL 过程体;</span><br></pre></td></tr></table></figure><p>如下是一段动态观察TEACHERS表中不同性别的人数的存储过程:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">SET SERVEROUTPUT ON FORMAT WRAPPED </span><br><span class="line">--设置格式WRAPPED 这个会默认以set linesize 为分割切断以后在新的一行显示</span><br><span class="line">CREATE OR REPLACE PROCEDURE count_num</span><br><span class="line">    (in_sex in TEACHERS.SEX%TYPE) --入参</span><br><span class="line">ASout_num NUMBER;</span><br><span class="line">BEGIN</span><br><span class="line">    IF in_sex=&#x27;M&#x27; THEN</span><br><span class="line">        SELECT count(SEX) INTO out_num</span><br><span class="line">        FROM TEACHERS</span><br><span class="line">        WHERE SEX=&#x27;M&#x27;;</span><br><span class="line">        dbms_output.put_line(&#x27;NUMBER of Male Teachers:&#x27;||out_num);</span><br><span class="line">        ELSE</span><br><span class="line">            SELECT count(SEX) INTO out_num</span><br><span class="line">            FROM TEACHERS</span><br><span class="line">            WHERE SEX=&#x27;F&#x27;;</span><br><span class="line">            dbms_output.put_line(&#x27;NUMBER of Female Teachers:&#x27;||out_num);</span><br><span class="line">        END IF;</span><br><span class="line">    END count_num;</span><br></pre></td></tr></table></figure><p>可以直接在 PL/SQL 命令窗口输入，同时也可以以文本格式存储好，然后在命令窗口使用 @ 或者 START 来载入存储过程。</p><p>过程成功创建之后，控制台就会输出<code>Procedure created</code>,此时我们定义的过程就成功地载入了数据库内存中，可以随时调用。</p><h3 id="调用过程"><a href="#调用过程" class="headerlink" title="调用过程"></a>调用过程</h3><p>调用过程的命令是 EXECUTE ,我们可以通过</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXECUTE &lt;过程名&gt;(&lt;参数&gt;);</span><br></pre></td></tr></table></figure><p>来进行调用，例如上面的 <code>count_num</code>过 程，我们进行调用:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; EXECUTE count_num(&#x27;F&#x27;);</span><br><span class="line"></span><br><span class="line">NUMBER of Female Teachers:100</span><br><span class="line"></span><br><span class="line">PL/SQL procedure successfully completed</span><br><span class="line"></span><br><span class="line">SQL&gt; EXECUTE count_num(&#x27;M&#x27;);</span><br><span class="line"></span><br><span class="line">NUMBER of Male Teachers:100</span><br><span class="line"></span><br><span class="line">PL/SQL procedure successfully completed</span><br></pre></td></tr></table></figure><p>过程成功的输出了男女教师的数量。</p><h3 id="删除过程"><a href="#删除过程" class="headerlink" title="删除过程"></a>删除过程</h3><p>语法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP PROCEDURE &lt;过程名&gt;;</span><br></pre></td></tr></table></figure><p>以删除上面创建的<code>count_num</code>过程为例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SQL&gt; DROP PROCEDURE count_num;</span><br><span class="line"></span><br><span class="line">Procedure dropped</span><br></pre></td></tr></table></figure><h3 id="过程的参数类型及传递"><a href="#过程的参数类型及传递" class="headerlink" title="过程的参数类型及传递"></a>过程的参数类型及传递</h3><h4 id="in、out、in-out参数类型"><a href="#in、out、in-out参数类型" class="headerlink" title="in、out、in out参数类型"></a>in、out、in out参数类型</h4><p>这些输入(输出)类型的参数，程序执行时会要求(或输出)该参数。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">CREATE OR REPLACE PROCEDURE double--将一个整数加倍</span><br><span class="line">(</span><br><span class="line">    in_num in NUMBER,--入参</span><br><span class="line">    out_num out NUMBER--出参</span><br><span class="line">    in_out_num in out NUMBER--出入参公用同一变量</span><br><span class="line">    ) </span><br><span class="line">    AS</span><br><span class="line">BEGIN</span><br><span class="line">    out_num:=in_num*2;</span><br><span class="line">    in_out_num:=in_out_num*2</span><br><span class="line">    END double;</span><br></pre></td></tr></table></figure><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>函数一般用于计算或者返回一个值，函数的调用是表达式的一部分，过程的调用是一条 PL/SQL 语句。</p><p>函数与过程比较大的区别就是函数调用时需要用表达式，过程只需要过程名，函数必须有返回值，过程则没有规定。</p><h3 id="创建函数"><a href="#创建函数" class="headerlink" title="创建函数"></a>创建函数</h3><p>创建函数语法如下:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE [OR REPLACE] FUNCTION&lt;&gt;(</span><br><span class="line">    (&lt;参数 1&gt;,[方式 1]&lt;数据类型 1&gt;，</span><br><span class="line">     &lt;参数 2&gt;,[方式 2]&lt;数据类型 2&gt;</span><br><span class="line">    ...)</span><br><span class="line">RETURN &lt;表达式&gt;</span><br><span class="line">IS|AS</span><br><span class="line">PL/SQL 程序体--其中必须要有RETURN 子句</span><br></pre></td></tr></table></figure><p>在其中，RETURN 在声明部分需要定义一个返回参数的类型，而在函数体中必须有一个RETURN 语句，&lt;表达式&gt;就是要函数返回的值。当语句执行时，如果表达式的类型与定义不符，该表达式将被替换为函数定义子句 RETURN 中指定的类型。同时，控制将立即返回到调用环境.但是，函数中可以有一个以上的返回语句。如果函数结束时还没有遇到返回语句，就会发生错误.</p><p>通常函数只有 in 类型的参数.</p><p>使用函数的方式来统计男女教师数量:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">CREATE OR REPLACE FUNCTION count_num</span><br><span class="line">(in_sex in TEACHERS.SEX%TYPE)</span><br><span class="line">    return NUMBER</span><br><span class="line">AS</span><br><span class="line">    out_num NUMBER;</span><br><span class="line">BEGIN</span><br><span class="line">    IF in_sex=&#x27;M&#x27; THEN</span><br><span class="line">        SELECT count(SEX) INTO out_num</span><br><span class="line">    FROM TEACHERS</span><br><span class="line">    WHERE SEX = &#x27;M&#x27;;</span><br><span class="line">    ELSE</span><br><span class="line">        SELECT count(SEX) INTO out_num</span><br><span class="line">    FROM TEACHERS</span><br><span class="line">    WHERE SEX = &#x27;F&#x27;;</span><br><span class="line">    END IF;</span><br><span class="line">    RETURN(out_num);</span><br><span class="line">END count_num;</span><br></pre></td></tr></table></figure><p>函数的创建方式与过程的创建方式完全一致，创建成功后Oracle同样会返回<code>Function created</code>.</p><h3 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h3><p>函数可以在程序块中调用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DECLARE</span><br><span class="line">    m_num NUMBER;</span><br><span class="line">    f_num NUMBER;</span><br><span class="line">BEGIN</span><br><span class="line">    m_num:=count_num(&#x27;M&#x27;);</span><br><span class="line">    f_num:=count_num(&#x27;F&#x27;);</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><p>同时也可以通过使用</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> count_num(<span class="string">&#x27;M&#x27;</span>) male <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">SELECT</span> count_num(<span class="string">&#x27;F&#x27;</span>) female <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure><p>直接调用.</p><h3 id="删除函数"><a href="#删除函数" class="headerlink" title="删除函数"></a>删除函数</h3><p>直接使用命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP FUNCTION count_num;</span><br></pre></td></tr></table></figure><p>来进行删除即可.</p><h2 id="程序包"><a href="#程序包" class="headerlink" title="程序包"></a>程序包</h2><p>程序包简称包，用于将逻辑相关的 PL/SQL 块或元素（变量、常量、自定义数据类型、异常、过程、函数、游标）等组织在一起，作为一个完整的单元存储在数据库中，用名称来表示程序包。它具有面向对象的程序设计语言的特点，是对 PL/SQL 块或元素的封装。程序包类似于面向对象中的类，其中变量相当于类的成员变量，而过程和函数就相当于类中的方法。</p><h3 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h3><p><font size="4" face="幼圆" color="lightblue">to be continue···</font></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>钱慎一  张素智 | Oracle 11g 从入门到精通</p>]]></content>
      
      
      
        <tags>
            
            <tag> Oracle </tag>
            
            <tag> PL/SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pl/SQL 学习笔记(Oracle 11g 从入门到精通第4章)</title>
      <link href="/2021/09/22/learnPlsql/"/>
      <url>/2021/09/22/learnPlsql/</url>
      
        <content type="html"><![CDATA[<hr><p>&emsp;&emsp;普通的sql语句只能进行简单的查询和一些设置, 单靠sql很难实现一些复杂的逻辑, 正是因为原来的sql语句局限性太高, 不能实现一些自动化的处理过程, 于是就出现了了 PL/SQL(Procedure Language &amp; Structured Query Language, 过程化 SQL 语言), 它在原先的一些普通sql语句的基础上加入了流程控制语句, 如while、if 等循环或者逻辑语句, 这使得sql能够进行一些复杂的流程处理, 能够写出一些自动化脚本以供使用. <span id="more"></span></p><hr><p>***在学习过程中如果遇到 dbms_output.put_line() 没有输出的情况, 有可能是控制台输出没有打开, 试试在命令窗口设置<code>set serveroutput on</code>以开启输出显示. ***</p><h2 id="PL-SQL-数据类型"><a href="#PL-SQL-数据类型" class="headerlink" title="PL/SQL 数据类型"></a>PL/SQL 数据类型</h2><p><em>PL/SQL 数据类型与 ORACLE 数据类型并不是同一概念, 但是在创建表的时候使用的变量为数据库变量</em></p><h3 id="数字类型"><a href="#数字类型" class="headerlink" title="数字类型"></a>数字类型</h3><ul><li>NUMBER(存储整数或者浮点数)</li><li>PLS_INTEGER(只存储整数)</li><li>BINARY_INTEGER(只存储整数)</li></ul><p>这些都是基本类型, 还有很多数据库的子类型可供使用, 如 DEC、DOUBLE、INT 等, 其都是 NUMBER 的子类型, 在NUMBER之上添加了一些限制以增强可读性和操作性. </p><h3 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h3><ul><li>VARCHAR2(储存变长字符串)</li><li>CHAR(储存定长字符串)</li><li>LONG(可变字符串, 可储存最高 2GB 的字符长度)</li><li>NCHAR(PL/SQL 8.0+, 存储 Unicode)</li><li>NVARCHAR2(PL/SQL 8.0+, 存储 Unicode)</li></ul><h3 id="日期类型"><a href="#日期类型" class="headerlink" title="日期类型"></a>日期类型</h3><ul><li>DATE(世纪、年、月、天、小时、分钟、秒, 一共 7 字节)</li></ul><h3 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h3><ul><li>BOOLEAN(TRUE、FALSE、NULL)</li></ul><h3 id="type-定义的数据类型"><a href="#type-定义的数据类型" class="headerlink" title="type 定义的数据类型"></a>type 定义的数据类型</h3><ul><li><p><code>type&lt;数据类型名&gt;is&lt;数据类型&gt;;</code></p><p>使用 type 定义 teache_record 记录变量：</p><blockquote><p>type teacher_record is RECORD<br>(</p><pre><code>TID NUMBER(5)NOT NULL:=0,NAME VARCHAR2(50),TITLE VARCHAR2(50),SEX CHAR(1)</code></pre><p>);</p></blockquote></li></ul><p>这就是一个自定义的记录变量, 要使用时通过<code>teacher teacher_record;</code>创建变量即可. 如果需要使用其中的变量, 通过类似于<code>teacher.SEX</code>的方式来获取即可</p><h3 id="PL-SQL-变量和常量"><a href="#PL-SQL-变量和常量" class="headerlink" title="PL/SQL 变量和常量"></a>PL/SQL 变量和常量</h3><ul><li><p>常量的定义方式为<code>&lt;常量名&gt;constant&lt;数据类型&gt;:=&lt;值&gt;;</code> </p><blockquote><p>PI constant NUMBER:=3.1415927;</p></blockquote></li><li><p>变量的定义方式为&lt;变量名&gt;&lt;数据类型&gt;[(宽度):=&lt;初始值&gt;];中括号中两个变量可以灵活选择使用：</p><blockquote><p>LEN NUMBER (3,2);</p><p>LEN NUMBER := 2.14;</p><p>LEN NUMBER (3,2):=2.14;</p><p>LEN NUMBER;</p></blockquote></li></ul><h2 id="PL-SQL-结构"><a href="#PL-SQL-结构" class="headerlink" title="PL/SQL 结构"></a>PL/SQL 结构</h2><ul><li><a href="#%E5%A3%B0%E6%98%8E%E9%83%A8%E5%88%86-DECLARE">声明部分</a>(DECLARE)</li><li><a href="#%E6%89%A7%E8%A1%8C%E9%83%A8%E5%88%86-BEGIN%E2%80%A6END">执行部分</a>(BEGIN…END)</li><li><a href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E9%83%A8%E5%88%86-EXCEPTION">异常处理部分</a>(EXCEPTION)</li></ul><p>总体结构如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DECLARE(Optional) ...</span><br><span class="line">BEGIN(Required) ...</span><br><span class="line">EXCEPTION(Optional) ...</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><h3 id="声明部分-DECLARE"><a href="#声明部分-DECLARE" class="headerlink" title="声明部分(DECLARE)"></a>声明部分(DECLARE)</h3><p>PL/SQL中的声明部分是可选的, 一般用来进行定义类型和变量、声明变量、声明函数、游标等操作. </p><p>比较基本的用法: </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DECLARE</span><br><span class="line">     i NUMBER(4) := 157;</span><br><span class="line">     j NUMBER(6);</span><br><span class="line">     c VARCHAR2(200) := &#x27;HELLO,WORLD&#x27;; </span><br><span class="line">     d DATE := sysdate; </span><br><span class="line">     b BOOLEAN := TRUE;</span><br><span class="line">BEGIN</span><br><span class="line">...</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><p>在声明的时候就可以直接对变量进行赋值, 在plsql中, 赋值操作为<code>:=</code>, 如果声明时没有进行赋值, 则赋值操作只能在执行部分进行处理. </p><p>进一步的操作, 在需要循环取数据库中记录时可能会用到：    </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DECLARE</span><br><span class="line">    i emp%rowtype;</span><br><span class="line">    j emp.ename%type;</span><br><span class="line">    k j%type;</span><br><span class="line">BEGIN</span><br><span class="line">...</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><p>上面的例子中, i 被定义为了emp表中的数据行的数据类型, 一个 i 的值就是一条记录, j 被定义为 emp 表中的 ename 的类型, 即 j 的类型与 emp 中 ename 栏相同, 而 k 的类型同理, 与 j 的类型相同. </p><h3 id="执行部分-BEGIN…END"><a href="#执行部分-BEGIN…END" class="headerlink" title="执行部分(BEGIN…END)"></a>执行部分(BEGIN…END)</h3><p>这一块是每一个plsql过程中必须要有的部分, 在这里可以进行最重要的流程控制操作. </p><h4 id="选择结构"><a href="#选择结构" class="headerlink" title="选择结构"></a>选择结构</h4><h5 id="IF-语句"><a href="#IF-语句" class="headerlink" title="IF 语句"></a>IF 语句</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">IF&#123;expression 1&#125;Then</span><br><span class="line">    &#123;do something;&#125;</span><br><span class="line">[ELSIF(expression 2)THEN</span><br><span class="line">    &#123;do something;&#125;]</span><br><span class="line">[ELSE</span><br><span class="line">    &#123;do something;&#125;]</span><br><span class="line">END IF;</span><br></pre></td></tr></table></figure><p><strong>需要注意其中 ELSIF 并不是 ELSEIF , 也不是 ELSE IF</strong></p><ul><li>IF … THEN 语句</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IF LEN = 2.14 THEN</span><br><span class="line">    INSERT INTO teachers VALUES(NAME,LEN,AGE);</span><br><span class="line">    END IF;</span><br></pre></td></tr></table></figure><ul><li>IF … THEN … ELSE 语句</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IF ROLE = 0 THEN</span><br><span class="line">    INSERT INTO teachers VALUES(NAME,SEX,AGE);</span><br><span class="line">ELSE</span><br><span class="line">    INSERT INTO students VALUES(NAME,SEX,AGE);</span><br><span class="line">END IF;</span><br></pre></td></tr></table></figure><ul><li>IF … THEN … ELSIF 语句</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IF ROLE = 0 THEN</span><br><span class="line">    INSERT INTO teachers VALUES(NAME,SEX,AGE);</span><br><span class="line">ELSIF ROLE = 1 THEN</span><br><span class="line">    INSERT INTO students VALUES(NAME,SEX,AGE);</span><br><span class="line">END IF;</span><br></pre></td></tr></table></figure><p>基本上与其他编程语言没有区别, 不过需要注意的就是在 PL/SQL 中的条件判断符号用的是<code>=</code>号, 而赋值语句用的是<code>:=</code>号, 这个与大部分常用语言不同. </p><h5 id="CASE-语句"><a href="#CASE-语句" class="headerlink" title="CASE 语句"></a>CASE 语句</h5><p>CASE语句有很多种不同的用法</p><p>有的和其他语言中的SWITCH语句类似, 在其格式如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CASE A</span><br><span class="line">WHEN &#123;expression 1&#125; THEN &#123;seq1&#125;</span><br><span class="line">WHEN &#123;expression 2&#125; THEN &#123;seq2&#125;</span><br><span class="line">...</span><br><span class="line">WHEN &#123;expression n&#125; THEN &#123;seqn&#125;</span><br><span class="line">[ELSE &#123;seq&#125;]</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><p>如果表达式的值与下面的任何一个表达式都不匹配时, PL/SQL 就会抛出CASE_NOT_FOUND异常. 当 CASE 匹配多条表达式时, 程序会取用最后一条符合条件的表达式执行. </p><p>示范代码(按成绩分等级)：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">st_grade:=CASE</span><br><span class="line">            WHEN st_score&lt;60 THEN &#x27;C&#x27;</span><br><span class="line">            WHEN st_score&gt;80 THEN &#x27;A&#x27;</span><br><span class="line">            ELSE &#x27;B&#x27;</span><br><span class="line">          END;</span><br></pre></td></tr></table></figure><p>示范代码(按等级评论)：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">st_comment:=CASE st_grade</span><br><span class="line">            WHEN &#x27;A&#x27; THEN &#x27;非常优秀&#x27;</span><br><span class="line">            WHEN &#x27;B&#x27; THEN &#x27;还不错&#x27;</span><br><span class="line">            ELSE &#x27;仍需努力&#x27;</span><br><span class="line">          END;</span><br></pre></td></tr></table></figure><h4 id="NULL-结构"><a href="#NULL-结构" class="headerlink" title="NULL 结构"></a>NULL 结构</h4><p>假设有下列一段代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">DECLARE</span><br><span class="line">    V_NUMBER1NUMBER;</span><br><span class="line">    V_NUMBER2NUMBER;</span><br><span class="line">    V_ResultVARCHAR2(7);</span><br><span class="line">BEGIN</span><br><span class="line">    IF V_NUMBER1&gt;V_NUMBER2 THEN</span><br><span class="line">        V_Result:=&#x27;NO&#x27;;</span><br><span class="line">    ELSE</span><br><span class="line">        V_Result:=&#x27;YES&#x27;;</span><br><span class="line">    END IF;</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><p>可以看到这里对空值进行了 IF 的条件比较, 这时候就会造成我们理解逻辑上的错误, 不过数据库 并不会报错, 数据库在执行 NULL 值的比较时, 会返回NULL,  直接跳到 ELSE 之中, 因此, 需要有 NULL 结构来判断变量是否为空. </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">DECLARE</span><br><span class="line">    V_NUMBER1NUMBER;</span><br><span class="line">    V_NUMBER2NUMBER;</span><br><span class="line">    V_ResultVARCHAR2(7);</span><br><span class="line">BEGIN</span><br><span class="line">    IF V_NUMBER1 IS NULL oR V_NUMBER2 IS NULL THEN</span><br><span class="line">        V_Result:=&#x27;Unknown&#x27;;</span><br><span class="line">    IF V_NUMBER1&gt;V_NUMBER2 THEN</span><br><span class="line">        V_Result:=&#x27;NO&#x27;;</span><br><span class="line">    ELSE</span><br><span class="line">        V_Result:=&#x27;YES&#x27;;</span><br><span class="line">    END IF;</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><h4 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h4><h5 id="LOOP-语句"><a href="#LOOP-语句" class="headerlink" title="LOOP 语句"></a>LOOP 语句</h5><ul><li>LOOP … EXIT … END 语句</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">LOOP--开始循环</span><br><span class="line">...</span><br><span class="line">[IF ... THEN]--一般 EXIT 前有条件判断语句以控制跳出条件</span><br><span class="line">EXIT--跳出循环</span><br><span class="line">...</span><br><span class="line">END LOOP;--循环结束, 继续跳到之前 LOOP 处执行</span><br></pre></td></tr></table></figure><ul><li>LOOP … EXIT WHEN … END 语句</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">LOOP</span><br><span class="line">...</span><br><span class="line">EXIT WHEN ...--条件表达式为真时跳出循环</span><br><span class="line">...</span><br><span class="line">END LOOP;</span><br></pre></td></tr></table></figure><ul><li>WHILE … LOOP … END</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">WHILE ... --表达式为真时才能进入循环开始执行</span><br><span class="line">LOOP</span><br><span class="line">...</span><br><span class="line">END LOOP; --跳至WHILE继续执行</span><br></pre></td></tr></table></figure><ul><li>FOR … IN … LOOP … END</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FOR ... IN ... --例FOR i IN 0..5, 即i从0到5循环, 循环执行5次后退出</span><br><span class="line">LOOP</span><br><span class="line">...</span><br><span class="line">END LOOP;</span><br></pre></td></tr></table></figure><h5 id="GOTO-语句"><a href="#GOTO-语句" class="headerlink" title="GOTO 语句"></a>GOTO 语句</h5><ul><li>GOTO label;</li></ul><p>程序执行到 GOTO 语句时, 控制程序会立即跳转标签标识的语句. label在PL/SQL中标识为<code>&lt;&lt;mark&gt;&gt;</code>,这就定义了一个名为 mark 的标签. </p><p>和其他所有语言一样, GOTO语句是不建议被使用的, 该语句的功能完全可以由其它的条件语句或循环语句进行改写实现, 如果该语句使用不当很容易出现大问题. </p><h3 id="异常处理部分-EXCEPTION"><a href="#异常处理部分-EXCEPTION" class="headerlink" title="异常处理部分(EXCEPTION)"></a>异常处理部分(EXCEPTION)</h3><p>异常可分为系统自导异常和用户自定义异常, 这里因为书中内容较少并且自己不熟悉所以不作细讲, 用户可以主动通过关键字 Raise 来抛出异常, 或者通过函数<code>Raise_Application_Error </code>来抛出. </p><h2 id="PL-SQL-游标"><a href="#PL-SQL-游标" class="headerlink" title="PL/SQL 游标"></a>PL/SQL 游标</h2><p>PL/SQL 变量一般是标量, 一组变量一次只能存放一条记录, 但是 Oracle 一次查询获取到的数据一般是一个集合, 即多条数据, 仅仅使用这样的变量对Oracle 查询到的数据进行操作并不现实, 因此 PL/SQL 就引入了游标(cursor)的概念,这里的游标就类似于 C 里面的指针, 该游标指向一个 Oracle 内存中的缓冲区, 缓冲区里面包含了要进行操作的语句. </p><h3 id="显式游标"><a href="#显式游标" class="headerlink" title="显式游标"></a>显式游标</h3><img src="/2021/09/22/learnPlsql/process.png" class><p>游标的声明需要在声明部分进行, 其他 3 个步骤都在执行或者异常处理步骤中进行. </p><h4 id="游标声明"><a href="#游标声明" class="headerlink" title="游标声明"></a>游标声明</h4><ul><li><code>CURSOR &lt;游标名&gt; IS SELECT &lt;语句&gt;;</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DECLARE</span><br><span class="line">teacher_id NUMBER(5);</span><br><span class="line">teacher_name VARCHAR2(50);</span><br><span class="line">teacher_title VARCHAR2(50);</span><br><span class="line">teacher_sex char(1);</span><br><span class="line">CURSOR teacher_cur IS</span><br><span class="line">    SELECT TID,TNAME,TITLE,SEX</span><br><span class="line">    FROM TEACHERS</span><br><span class="line">    WHERE TID&lt;117;</span><br></pre></td></tr></table></figure><p>这样就定义出了一个名为<code>teacher_cur</code>的游标. </p><h4 id="游标打开"><a href="#游标打开" class="headerlink" title="游标打开"></a>游标打开</h4><ul><li><code>OPEN &lt;游标名&gt;;</code></li></ul><p>打开游标执行的操作其实就是数据库执行定义好的 SQL 语句, 装载进缓冲区, 游标指向结果首部. </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OPEN teacher_cur;</span><br></pre></td></tr></table></figure><p><em>重复打开一个游标并不会报错, 因为系统会隐式的先 close 游标, 再重新打开这个游标</em></p><h4 id="游标提取"><a href="#游标提取" class="headerlink" title="游标提取"></a>游标提取</h4><ul><li><p><code>FETCH &lt;游标名&gt; INTO &lt;变量列表&gt;;</code></p></li><li><p><code>FETCH &lt;游标名&gt; INTO PL/SQL 记录;</code></p></li></ul><p>先看一段示例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">OPEN teacher_cur;</span><br><span class="line">FETCH teacher_cur INTO teacher_id,teacher_name,teacher_title,teacher_sex;</span><br><span class="line">-- 将游标指向的那一行数据放入变量中, 游标后移(只能逐个向后移, 不能向前或者跳跃移动)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DECLARE </span><br><span class="line">    teacher_record TEACHERS%ROWTYPE;</span><br><span class="line">BEGIN</span><br><span class="line">    OPEN teacher_cur;</span><br><span class="line">    FETCH teacher_cur INTO teacher_record;</span><br><span class="line">    -- 将游标指向的那一行记录放入变量中</span><br></pre></td></tr></table></figure><p>这两段代码实现的功能其实相同, 都将游标中的数据给取出来, 先前定义使用<code>ROWTYPE</code>进行操作时, 会比较方便, 不用依次定义表的每个字段变量, 直接按记录读取. 进行 FETCH 时, 需要注意数据的兼容性, INTO 字句中的变量类型都必须与查询的选择列表的类型相兼容, 否则将拒绝执行. </p><h4 id="游标关闭"><a href="#游标关闭" class="headerlink" title="游标关闭"></a>游标关闭</h4><p>当所有活动集都被检索完毕之后, 游标就理应关闭, 关闭的语法为</p><ul><li><code>CLOSE &lt;游标名&gt;;</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CLOSE teacher_cur;</span><br></pre></td></tr></table></figure><p>如果游标已经关闭, 但是仍然执行 FETCH 语句则会报错, 同样, 关闭一个已经关闭的游标同样也会报错. </p><h3 id="隐式游标"><a href="#隐式游标" class="headerlink" title="隐式游标"></a>隐式游标</h3><p>隐式游标类似于 Java 中的匿名内部类, 无需进行定义、打开或关闭操作</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">BEGIN</span><br><span class="line">    SELECT TID,TNAME,TITLE,SEX INTO teacher_id,teacher,name,teacher_title,teacher_sex</span><br><span class="line">    FROM TEACHERS</span><br><span class="line">    WHERE TID=113;</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><p>这里的 select 语句就产生了一个隐式游标</p><p>以下的三类DML语句都会产生隐式游标：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">BEGIN</span><br><span class="line">    INSERT INTO teachers VALUES(221,&#x27;Baoguo&#x27;,&#x27;Kongfu&#x27;,&#x27;M&#x27;)</span><br><span class="line">    --INSERT</span><br><span class="line">    UPDATE teachers set TID=250 WHERE TNAME=&#x27;Baoguo&#x27;</span><br><span class="line">    --UPDATE</span><br><span class="line">    DELETE FROM teachers WHERE TID=250;</span><br><span class="line">    --DELETE</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><h3 id="游标属性"><a href="#游标属性" class="headerlink" title="游标属性"></a>游标属性</h3><p>无论显式游标还是隐式游标, 都有如下四种属性：</p><ul><li><a href="#ISOPEN">%ISOPEN</a></li><li><a href="#FOUND">%FOUND</a></li><li><a href="#NOTFOUND">%NOTFOUND</a></li><li><a href="#ROWCOUNT">%ROWCOUNT</a></li></ul><h4 id="ISOPEN"><a href="#ISOPEN" class="headerlink" title="ISOPEN"></a>ISOPEN</h4><p>判断游标是否打开, 实际应用中, 在使用一个游标前, 都应当检查它的%ISOPEN属性, 查看其是否已打开, 若没有, 要打开游标再向下操做. 这也是防止运行过程中出错的必备一步. </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IF teacher_cur%ISOPEN THEN</span><br><span class="line">    FETCH teacher_cur INTO teacher_id,teacher_name,teacher_title,teacher_sex;</span><br><span class="line">ELSE</span><br><span class="line">    OPEN teacher_cur;</span><br><span class="line">END IF;</span><br></pre></td></tr></table></figure><p>隐式游标中, 引用方式为 SQL%ISOPEN , 因为隐式游标不需要打开和关闭, 它的属性总为 TRUE , 不需要进行该操作. </p><h4 id="FOUND"><a href="#FOUND" class="headerlink" title="FOUND"></a>FOUND</h4><p>判断当前游标指向是否为有效行, 即游标指向的位置有无数据, 如果游标指向的地方没有数据(NULL), 就返回FALSE, 这一属性对于循环提取数据很有效. </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">OPEN teacher_cur;</span><br><span class="line">LOOP</span><br><span class="line">FETCH teacher_cur INTO teacher_id,teacher_name,teacher_title,teacher_sex;</span><br><span class="line"></span><br><span class="line">    EXIT WHEN NOT teacher_cur%FOUND;</span><br><span class="line">END LOOP;</span><br></pre></td></tr></table></figure><p>原书中似乎编写出现了一些错误, 按照书中执行的话, 程序会进入死循环,本人在代码上进行了一些调整</p><img src="/2021/09/22/learnPlsql/error.png" class><h4 id="NOTFOUND"><a href="#NOTFOUND" class="headerlink" title="NOTFOUND"></a>NOTFOUND</h4><p>该属性值与%FOUND属性值相反, 其他操作与FOUND完全一致. </p><h4 id="ROWCOUNT"><a href="#ROWCOUNT" class="headerlink" title="ROWCOUNT"></a>ROWCOUNT</h4><p>该属性记录了游标抽取过的记录行数, 也可以理解为此时游标在缓冲区结果集的行号, 这个属性在循环中也同样很有效使得不必抽取所有记录行就可以中断游标操作. </p><p>比如要取出规定的一部分数据：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LOOP</span><br><span class="line">FETCH teacher_cur INTO teacher_id,teacher_name,teacher_title,teacher_sex;</span><br><span class="line">EXIT WHEN NOT teacher_cur%ROWCOUNT=10;</span><br><span class="line">END LOOP;</span><br></pre></td></tr></table></figure><p>而隐式游标执行方法如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">BEGIN</span><br><span class="line">    INSERT INTO teachers VALUES(221,&#x27;Baoguo Ma&#x27;,&#x27;Kongfu&#x27;,&#x27;M&#x27;);</span><br><span class="line">    dbms_output.put_line(&#x27;INSERT ROWCOUNT:&#x27;||SQL%ROWCOUNT);</span><br><span class="line">    --INSERT</span><br><span class="line">    UPDATE teachers set TID=250 WHERE TNAME=&#x27;Baoguo Ma&#x27;;</span><br><span class="line">    dbms_output.put_line(&#x27;UPDATE ROWCOUNT:&#x27;||SQL%ROWCOUNT);</span><br><span class="line">    --UPDATE</span><br><span class="line">    DELETE FROM teachers WHERE TID=123;</span><br><span class="line">    dbms_output.put_line(&#x27;DELETE ROWCOUNT:&#x27;||SQL%ROWCOUNT);</span><br><span class="line">    --DELETE</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><h4 id="参数化游标"><a href="#参数化游标" class="headerlink" title="参数化游标"></a>参数化游标</h4><p>游标可以传参, 在定义的时候声明即可：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-- ACCEPT my_tid prompt &#x27;pls input the tid&#x27;</span><br><span class="line">DECLARE</span><br><span class="line">    ...</span><br><span class="line">    CURSOR teacher_cur(PARAM NUMBER) IS</span><br><span class="line">        SELECT TNAME,TITLE,SEX FROM TEACHERS </span><br><span class="line">        WHERE TID=PARAM;--使用参数</span><br><span class="line">BEGIN</span><br><span class="line">    OPEN teacher_cur(my_tid);</span><br><span class="line">    LOOP</span><br><span class="line">    FETCH teacher_cur INTO teacher_name,teacher_title,teacher_sex;</span><br><span class="line">    EXIT WHEN teacher%NOTFOUND;</span><br><span class="line">    END LOOP;</span><br><span class="line">    CLOSE teacher_cur;</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><h3 id="游标变量"><a href="#游标变量" class="headerlink" title="游标变量"></a>游标变量</h3><p>正如其名, 游标变量不局限于一条sql语句, 它可以依次对应上多条 sql 查询语句</p><h4 id="声明游标变量"><a href="#声明游标变量" class="headerlink" title="声明游标变量"></a>声明游标变量</h4><p>PL/SQL 中引用类型通过如下方式进行声明</p><ul><li><code>REF type</code></li></ul><p>其中 type 即将要声明的引用类型, 且应是一个已经存在的类型, 因此, 游标的引用可以按照如下方式：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TYPE &lt;类型名&gt; REF CURSOR</span><br><span class="line">RETURN &lt;返回类型&gt;;</span><br></pre></td></tr></table></figure><p>类型名是引用类型的名字, 返回类型则是一个记录类型</p><p>示范代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">DECLARE </span><br><span class="line">TYPE Ref1 IS REF CURSOR</span><br><span class="line">RETURN STUDENTS%ROWTYPE;</span><br><span class="line">-- 使用%ROWTYPE 获取记录类型</span><br><span class="line"></span><br><span class="line">TYPE Rec IS RECORD(</span><br><span class="line">    sname STUDENTS.sname%TYPE,</span><br><span class="line">    sex STUDENTS.sex%TYPE);</span><br><span class="line">TYPE Ref2 IS REF CURSOR</span><br><span class="line">RETURN Rec;</span><br><span class="line">-- 自定义记录类型</span><br><span class="line"></span><br><span class="line">TYPE Ref3 IS REF CURSOR</span><br><span class="line">RETURN Rec%TYPE;</span><br><span class="line">-- 另一类型定义</span><br><span class="line"></span><br><span class="line">my_ref Ref1;</span><br><span class="line">-- 如此使用REF</span><br></pre></td></tr></table></figure><p>上述的游标变量全是受限的，只能返回某种特定的类型，但在 PL/SQL 中，可以不声明返回类型，省略掉 RETURN语句，这样就可以被任何查询语句打开。</p><h4 id="打开游标变量"><a href="#打开游标变量" class="headerlink" title="打开游标变量"></a>打开游标变量</h4><p>打开游标变量需要将变量与 SELECT 语句关联，语法为：</p><ul><li><code>OPEN&lt;游标变量&gt;FOR&lt;SELECT 语句&gt;;</code></li></ul><p>当游标变量受限且返回类型不匹配时，Oracle 就会报错。</p><p>打开游标变量示例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DECLARE</span><br><span class="line">    TYPE my_Ref IS REF CURSOR</span><br><span class="line">    RETURN STUDENTS%ROWTYPE;</span><br><span class="line">    myref_cur my_ref;</span><br><span class="line">BEGIN</span><br><span class="line">    OPEN myref_cur FOR</span><br><span class="line">        SELECT * FROM STUDENTS;</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><h4 id="关闭游标变量"><a href="#关闭游标变量" class="headerlink" title="关闭游标变量"></a>关闭游标变量</h4><p>操作与显式游标关闭相同</p><ul><li><code>CLOSE &lt;游标变量名&gt;;</code></li></ul><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://blog.csdn.net/qq_34741755/article/details/81279698">where are you ぃ | pl/sql编程</a></p><p>钱慎一  张素智 | Oracle 11g 从入门到精通</p><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="TEACHER-表-DDL"><a href="#TEACHER-表-DDL" class="headerlink" title="TEACHER 表 DDL"></a>TEACHER 表 DDL</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> TEACHERS</span><br><span class="line">(</span><br><span class="line">  tid   NUMBER(<span class="number">5</span>),</span><br><span class="line">  tname VARCHAR2(<span class="number">50</span>),</span><br><span class="line">  title VARCHAR2(<span class="number">50</span>),</span><br><span class="line">  sex   <span class="type">CHAR</span>(<span class="number">1</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="TEACHER-表数据"><a href="#TEACHER-表数据" class="headerlink" title="TEACHER 表数据"></a>TEACHER 表数据</h3><p>采用PLSQL数据生成器生成,生成器设置：</p><table><thead><tr><th align="center">名称</th><th align="center">类型</th><th align="center">大小</th><th align="left">数据</th></tr></thead><tbody><tr><td align="center">TID</td><td align="center">NUMBER</td><td align="center">5</td><td align="left">Sequence(1)</td></tr><tr><td align="center">TNAME</td><td align="center">VARCHAR2</td><td align="center">50</td><td align="left">Firstname+’ ‘+Lastname</td></tr><tr><td align="center">TITLE</td><td align="center">VARCHAR2</td><td align="center">50</td><td align="left">List(‘Chinese’,’Engilsh’,’Math’,’Geography ‘,’Chemistry’,’Music’,’Biology’)</td></tr><tr><td align="center">SEX</td><td align="center">CHAR</td><td align="center">1</td><td align="left">List(‘M’,’F’)</td></tr></tbody></table><p>这里设置提供生成好的200条数据：</p><details><summary>点击展开sql</summary><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">1</span>, <span class="string">&#x27;Quentin McKean&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">2</span>, <span class="string">&#x27;Ted Costner&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">3</span>, <span class="string">&#x27;Andrea Bracco&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">4</span>, <span class="string">&#x27;Rosanne Travers&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">5</span>, <span class="string">&#x27;Alex Astin&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">6</span>, <span class="string">&#x27;Jonatha Wells&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">7</span>, <span class="string">&#x27;Sean Osmond&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">8</span>, <span class="string">&#x27;Cole Rawls&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">9</span>, <span class="string">&#x27;Karon Penn&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">10</span>, <span class="string">&#x27;Kirsten Pleasure&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">11</span>, <span class="string">&#x27;Arturo Holbrook&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">12</span>, <span class="string">&#x27;Grant Manning&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">13</span>, <span class="string">&#x27;Aaron Redford&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">14</span>, <span class="string">&#x27;Murray Kinney&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">15</span>, <span class="string">&#x27;Chris DiFranco&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">16</span>, <span class="string">&#x27;Elias Hutton&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">17</span>, <span class="string">&#x27;Leo Costner&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">18</span>, <span class="string">&#x27;Colleen McAnally&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">19</span>, <span class="string">&#x27;Alfred Price&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">20</span>, <span class="string">&#x27;Armand O&#x27;&#x27;Hara&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">21</span>, <span class="string">&#x27;Max Busey&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">22</span>, <span class="string">&#x27;Celia Loggia&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">23</span>, <span class="string">&#x27;Aaron Williams&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">24</span>, <span class="string">&#x27;Ewan Pleasure&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">25</span>, <span class="string">&#x27;Fairuza Nugent&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">26</span>, <span class="string">&#x27;Mike Zappacosta&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">27</span>, <span class="string">&#x27;Christine Mitra&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">28</span>, <span class="string">&#x27;Daniel Cohn&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">29</span>, <span class="string">&#x27;Ice Trejo&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">30</span>, <span class="string">&#x27;Bo Pollak&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">31</span>, <span class="string">&#x27;Jon Polley&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">32</span>, <span class="string">&#x27;Ricky Ojeda&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">33</span>, <span class="string">&#x27;Ricky Thomas&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">34</span>, <span class="string">&#x27;Chloe Idol&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">35</span>, <span class="string">&#x27;Trace Pigott-Smith&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">36</span>, <span class="string">&#x27;Bonnie Schiff&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">37</span>, <span class="string">&#x27;Julianne Jonze&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">38</span>, <span class="string">&#x27;Davey Streep&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">39</span>, <span class="string">&#x27;Sheryl Gatlin&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">40</span>, <span class="string">&#x27;Ellen Chao&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">41</span>, <span class="string">&#x27;Saul de Lancie&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">42</span>, <span class="string">&#x27;Gran Murphy&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">43</span>, <span class="string">&#x27;Xander Miller&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">44</span>, <span class="string">&#x27;Todd Blackwell&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">45</span>, <span class="string">&#x27;Ricardo Malone&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">46</span>, <span class="string">&#x27;Molly Cazale&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">47</span>, <span class="string">&#x27;Neve Prinze&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">48</span>, <span class="string">&#x27;Cloris Rucker&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">49</span>, <span class="string">&#x27;Udo Kelly&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">50</span>, <span class="string">&#x27;Holly McDowall&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">51</span>, <span class="string">&#x27;Colin Woodward&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">52</span>, <span class="string">&#x27;Tara Dalton&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">53</span>, <span class="string">&#x27;Susan Malkovich&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">54</span>, <span class="string">&#x27;Bernie Sweeney&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">55</span>, <span class="string">&#x27;Minnie Ruiz&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">56</span>, <span class="string">&#x27;Temuera White&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">57</span>, <span class="string">&#x27;Emma Whitman&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">58</span>, <span class="string">&#x27;Rose Masur&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">59</span>, <span class="string">&#x27;Lila Lachey&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">60</span>, <span class="string">&#x27;Chad Downie&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">61</span>, <span class="string">&#x27;Boyd Fisher&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">62</span>, <span class="string">&#x27;Joey Rivers&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">63</span>, <span class="string">&#x27;Nanci Hutton&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">64</span>, <span class="string">&#x27;Rueben Snow&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">65</span>, <span class="string">&#x27;Phil McCready&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">66</span>, <span class="string">&#x27;Nicholas Busey&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">67</span>, <span class="string">&#x27;Humberto Sartain&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">68</span>, <span class="string">&#x27;Oliver Wong&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">69</span>, <span class="string">&#x27;Henry Cole&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">70</span>, <span class="string">&#x27;Gladys Peterson&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">71</span>, <span class="string">&#x27;Seann McNeice&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">72</span>, <span class="string">&#x27;Diamond Gilley&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">73</span>, <span class="string">&#x27;Val Penn&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">74</span>, <span class="string">&#x27;Juliette Almond&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">75</span>, <span class="string">&#x27;Charlize McLean&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">76</span>, <span class="string">&#x27;Mykelti Webb&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">77</span>, <span class="string">&#x27;Jonny Lee Atkins&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">78</span>, <span class="string">&#x27;Ned Starr&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">79</span>, <span class="string">&#x27;Kathy Diesel&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">80</span>, <span class="string">&#x27;Illeana Chaykin&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">81</span>, <span class="string">&#x27;Connie Costello&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">82</span>, <span class="string">&#x27;Chazz Gary&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">83</span>, <span class="string">&#x27;Joy McPherson&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">84</span>, <span class="string">&#x27;Alannah Koyana&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">85</span>, <span class="string">&#x27;Radney Epps&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">86</span>, <span class="string">&#x27;Temuera Place&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">87</span>, <span class="string">&#x27;Chad Franks&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">88</span>, <span class="string">&#x27;Larenz Pitney&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">89</span>, <span class="string">&#x27;Jonatha Keen&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">90</span>, <span class="string">&#x27;Ashley Hiatt&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">91</span>, <span class="string">&#x27;Earl Lloyd&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">92</span>, <span class="string">&#x27;Michael Nugent&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">93</span>, <span class="string">&#x27;Gwyneth Sobieski&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">94</span>, <span class="string">&#x27;Solomon Wahlberg&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">95</span>, <span class="string">&#x27;Julianna Schwimmer&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">96</span>, <span class="string">&#x27;Roger Dempsey&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">97</span>, <span class="string">&#x27;Kate Jolie&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">98</span>, <span class="string">&#x27;Ashton Shepherd&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">99</span>, <span class="string">&#x27;Liev Cage&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">100</span>, <span class="string">&#x27;Juliette Frakes&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">101</span>, <span class="string">&#x27;Bonnie Chilton&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">102</span>, <span class="string">&#x27;Sydney MacDowell&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">103</span>, <span class="string">&#x27;Josh Pollak&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">104</span>, <span class="string">&#x27;Giovanni Pollack&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">105</span>, <span class="string">&#x27;Neneh McFerrin&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">106</span>, <span class="string">&#x27;Joan Kapanka&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">107</span>, <span class="string">&#x27;Minnie Calle&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">108</span>, <span class="string">&#x27;Hookah Bradford&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">109</span>, <span class="string">&#x27;Jesse Chan&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">110</span>, <span class="string">&#x27;Praga Rizzo&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">111</span>, <span class="string">&#x27;Debra Balk&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">112</span>, <span class="string">&#x27;David Tennison&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">113</span>, <span class="string">&#x27;Clay Shepherd&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">114</span>, <span class="string">&#x27;Willie Humphrey&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">115</span>, <span class="string">&#x27;April Flatts&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">116</span>, <span class="string">&#x27;Chant? Gertner&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">117</span>, <span class="string">&#x27;Michael Ellis&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">118</span>, <span class="string">&#x27;Morris Buscemi&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">119</span>, <span class="string">&#x27;Barry Serbedzija&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">120</span>, <span class="string">&#x27;Jessica Favreau&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">121</span>, <span class="string">&#x27;Peter Napolitano&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">122</span>, <span class="string">&#x27;Sissy Cara&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">123</span>, <span class="string">&#x27;Hope Keeslar&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">124</span>, <span class="string">&#x27;Katie Del Toro&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">125</span>, <span class="string">&#x27;Maura Lonsdale&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">126</span>, <span class="string">&#x27;Gin Gore&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">127</span>, <span class="string">&#x27;Kyra Brando&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">128</span>, <span class="string">&#x27;Alfred Copeland&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">129</span>, <span class="string">&#x27;Trick Zellweger&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">130</span>, <span class="string">&#x27;Quentin Cummings&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">131</span>, <span class="string">&#x27;Lois Haysbert&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">132</span>, <span class="string">&#x27;Cole Ontiveros&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">133</span>, <span class="string">&#x27;Aidan Hersh&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">134</span>, <span class="string">&#x27;Stephen Lucas&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">135</span>, <span class="string">&#x27;Harold Torn&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">136</span>, <span class="string">&#x27;Sigourney Miller&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">137</span>, <span class="string">&#x27;Whoopi Hirsch&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">138</span>, <span class="string">&#x27;Queen McKennitt&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">139</span>, <span class="string">&#x27;Nickel Torn&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">140</span>, <span class="string">&#x27;Russell Gagnon&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">141</span>, <span class="string">&#x27;Bridgette Theron&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">142</span>, <span class="string">&#x27;Stevie Whitmore&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">143</span>, <span class="string">&#x27;Kazem Grant&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">144</span>, <span class="string">&#x27;Stephen Hawthorne&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">145</span>, <span class="string">&#x27;Rita Tempest&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">146</span>, <span class="string">&#x27;Jean-Luc Kweller&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">147</span>, <span class="string">&#x27;Anthony Snider&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">148</span>, <span class="string">&#x27;Bette Nielsen&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">149</span>, <span class="string">&#x27;Udo Lonsdale&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">150</span>, <span class="string">&#x27;Hope Davidson&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">151</span>, <span class="string">&#x27;Bradley Lineback&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">152</span>, <span class="string">&#x27;Tanya Brody&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">153</span>, <span class="string">&#x27;Alice Wills&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">154</span>, <span class="string">&#x27;Rik Gere&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">155</span>, <span class="string">&#x27;Busta Barrymore&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">156</span>, <span class="string">&#x27;Joshua Solido&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">157</span>, <span class="string">&#x27;Emily Goodman&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">158</span>, <span class="string">&#x27;Suzanne Capshaw&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">159</span>, <span class="string">&#x27;Jonathan Ledger&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">160</span>, <span class="string">&#x27;Olga Biggs&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">161</span>, <span class="string">&#x27;Wayman Piven&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">162</span>, <span class="string">&#x27;Gary Stampley&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">163</span>, <span class="string">&#x27;Lynette Hanley&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">164</span>, <span class="string">&#x27;Lena Thornton&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">165</span>, <span class="string">&#x27;Kylie Trejo&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">166</span>, <span class="string">&#x27;Geoff Ryder&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">167</span>, <span class="string">&#x27;Corey Idle&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">168</span>, <span class="string">&#x27;Billy Holden&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">169</span>, <span class="string">&#x27;Nora Neuwirth&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">170</span>, <span class="string">&#x27;Toni Baranski&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">171</span>, <span class="string">&#x27;Hugh Pony&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">172</span>, <span class="string">&#x27;Reese Lucien&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">173</span>, <span class="string">&#x27;Sammy Englund&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">174</span>, <span class="string">&#x27;Burt McCready&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">175</span>, <span class="string">&#x27;Aida Isaacs&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">176</span>, <span class="string">&#x27;Nastassja Albright&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">177</span>, <span class="string">&#x27;Vivica Stiers&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">178</span>, <span class="string">&#x27;Adrien Chambers&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">179</span>, <span class="string">&#x27;Martha Weir&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">180</span>, <span class="string">&#x27;Loreena Elliott&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">181</span>, <span class="string">&#x27;Ashton Baranski&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">182</span>, <span class="string">&#x27;Billy Chao&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">183</span>, <span class="string">&#x27;Shirley Palminteri&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">184</span>, <span class="string">&#x27;Collin Koyana&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">185</span>, <span class="string">&#x27;Collective Willis&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">186</span>, <span class="string">&#x27;Gord Osborne&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">187</span>, <span class="string">&#x27;Lindsay Amos&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">188</span>, <span class="string">&#x27;Gil Harary&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">189</span>, <span class="string">&#x27;Norm Finney&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">190</span>, <span class="string">&#x27;Lauren Guest&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">191</span>, <span class="string">&#x27;Tramaine Forster&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">192</span>, <span class="string">&#x27;Corey Doucette&#x27;</span>, <span class="string">&#x27;Biology&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">193</span>, <span class="string">&#x27;Kay Blades&#x27;</span>, <span class="string">&#x27;Music&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">194</span>, <span class="string">&#x27;Embeth Hidalgo&#x27;</span>, <span class="string">&#x27;Chinese&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">195</span>, <span class="string">&#x27;Rachid Schiavelli&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">196</span>, <span class="string">&#x27;Hikaru Swinton&#x27;</span>, <span class="string">&#x27;Chemistry&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">197</span>, <span class="string">&#x27;Benjamin Pacino&#x27;</span>, <span class="string">&#x27;Engilsh&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">198</span>, <span class="string">&#x27;Edwin Holmes&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">199</span>, <span class="string">&#x27;Loren Loggia&#x27;</span>, <span class="string">&#x27;Geography &#x27;</span>, <span class="string">&#x27;F&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> HSNC.TEACHERS (TID, TNAME, TITLE, SEX)</span><br><span class="line"><span class="keyword">values</span> (<span class="number">200</span>, <span class="string">&#x27;Dustin Kline&#x27;</span>, <span class="string">&#x27;Math&#x27;</span>, <span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure></details>]]></content>
      
      
      
        <tags>
            
            <tag> Oracle </tag>
            
            <tag> PL/SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracle SQL高级编程阅读笔记</title>
      <link href="/2021/09/17/learnOracle/"/>
      <url>/2021/09/17/learnOracle/</url>
      
        <content type="html"><![CDATA[<hr><p>Oracle SQL高级编程阅读笔记<span id="more"></span></p><hr><h2 id="第一章-SQL核心"><a href="#第一章-SQL核心" class="headerlink" title="第一章    SQL核心"></a>第一章    SQL核心</h2><h3 id="1-3-SQL-Plus"><a href="#1-3-SQL-Plus" class="headerlink" title="1.3 SQL * Plus"></a>1.3 SQL * Plus</h3><p>​    回顾、熟悉命令、可创建一个login.sql文件，使得每次打开SQL * Plus 时提前设置好相关的SQL * Plus环境变量  </p><p>​    相关的执行命令方式：使用<code>@</code>或者<code>START</code>来执行.sql后缀的文件,使用<code>/</code>来重复执行上一条执行的语句</p><h3 id="1-4-5个核心的SQL语句"><a href="#1-4-5个核心的SQL语句" class="headerlink" title="1.4 5个核心的SQL语句"></a>1.4 5个核心的SQL语句</h3><ul><li><p>SELECT</p><ul><li>FROM</li><li>WHERE</li><li><a href="https://baijiahao.baidu.com/s?id=1664040284917893293&wfr=spider&for=pc">GROUP BY</a></li><li>HAVING</li><li>SELECT 列表(<code>SELECT a,b,c,(SELECT a1,b1,from table1),d,e FROM table</code>)</li><li>ORDER BY</li></ul></li><li><p>INSERT</p><ul><li>单表插入</li><li>多表插入</li></ul></li><li><p>UPDATE</p></li><li><p>DELETE</p></li><li><p>MERGE（合并，有则更新，无则插入）  </p></li></ul><h2 id="第二章-SQL执行"><a href="#第二章-SQL执行" class="headerlink" title="第二章 SQL执行"></a>第二章 SQL执行</h2><h3 id="2-1——2-5-ORACLE-的CACHE机制"><a href="#2-1——2-5-ORACLE-的CACHE机制" class="headerlink" title="2.1——2.5 ORACLE 的CACHE机制"></a>2.1——2.5 ORACLE 的CACHE机制</h3><ul><li><p>共享池——执行过的语句缓存在共享池中，采用LRU算法更新缓存</p></li><li><p>库高速缓存</p><ul><li><p>软解析（直接使用cache中的数据，执行速度快）</p></li><li><p>硬解析（需要生成执行计划，速度慢）</p></li></ul></li><li><p>相同语句（ORACLE直接对语句进行hash计算，如果语句出现任何变化即视为语句不同，即使只改变了语句大小写）</p><ul><li>使用绑定变量可减少硬解析，加快执行速度</li></ul></li></ul><h3 id="2-6查询转换"><a href="#2-6查询转换" class="headerlink" title="2.6查询转换"></a>2.6查询转换</h3><p>ORACLE可能会将一些子查询进行转换，如</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employees <span class="keyword">where</span> department_id <span class="keyword">in</span> (<span class="keyword">select</span> department_id <span class="keyword">from</span> departments)</span><br></pre></td></tr></table></figure><p>可能会被转换为</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.<span class="operator">*</span> <span class="keyword">from</span> employees e,departments d <span class="keyword">where</span> e.department_id <span class="operator">=</span> d.department_id</span><br></pre></td></tr></table></figure><p>这里的结果集并不会有改变，但是第二局的解析执行速度会更加高效</p><h3 id="2-7-2-13一些优化解析执行速度的办法"><a href="#2-7-2-13一些优化解析执行速度的办法" class="headerlink" title="2.7 -2.13一些优化解析执行速度的办法"></a>2.7 -2.13一些优化解析执行速度的办法</h3><p>主要列举了视图合并、子查询解嵌套、谓语前推、使用物化视图进行查询重写等优化解析的方式，这里一大部分全都在介绍硬解析中对于执行方案的优化与选择，最后确定出执行计划。</p><img src="/2021/09/17/learnOracle/process.png" class><h2 id="第三章-访问和联结方法"><a href="#第三章-访问和联结方法" class="headerlink" title="第三章 访问和联结方法"></a>第三章 访问和联结方法</h2><h3 id="访问方法"><a href="#访问方法" class="headerlink" title="访问方法"></a>访问方法</h3><p>比较多的经验法则（ROT,Rule Of Thumb）提到一个判断是否要使用全扫描访问的依据——查询将取出表中多少的数据行。如果多于百分之多少，就应该用全扫描，这个说法有依据，但凡事总有例外，大部分情况下这个法则是可行的。</p><ul><li><p>全扫描访问</p><p>下面给出一段代码，在即使查询量只有所有数据的1%时全扫描也更占优势</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t1 <span class="keyword">as</span> </span><br><span class="line"><span class="keyword">select</span>trunc((rownum<span class="number">-1</span>)<span class="operator">/</span><span class="number">100</span>) id,<span class="comment">-- trunc函数将数字取整</span></span><br><span class="line">        rpad(rownum,<span class="number">100</span>) t_pad<span class="comment">-- rpad函数填充作用</span></span><br><span class="line"><span class="keyword">from</span>dba_source</span><br><span class="line"><span class="keyword">where</span>rownum <span class="operator">&lt;=</span> <span class="number">10000</span>;</span><br><span class="line"><span class="keyword">create</span> index t1_dix1 <span class="keyword">on</span> t1(id);</span><br><span class="line"><span class="keyword">exec</span> dbms_stats.gather_table_stats(<span class="keyword">user</span>,<span class="string">&#x27;t1&#x27;</span>,method_opt<span class="operator">=</span><span class="operator">&gt;</span><span class="string">&#x27;FOR ALL COLUMNS SIZE 1&#x27;</span>,cascade<span class="operator">=</span><span class="operator">&gt;</span><span class="literal">TRUE</span>);<span class="comment">-- 分析记录</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t2 <span class="keyword">as</span> </span><br><span class="line"><span class="keyword">select</span><span class="built_in">mod</span>(rownum,<span class="number">100</span>) id,</span><br><span class="line">        rpad(rownum,<span class="number">100</span>) t_pad</span><br><span class="line"><span class="keyword">from</span>dba_source</span><br><span class="line"><span class="keyword">where</span>rownum <span class="operator">&lt;=</span> <span class="number">10000</span>;</span><br><span class="line"><span class="keyword">create</span> index t2_dix1 <span class="keyword">on</span> t2(id);</span><br><span class="line"><span class="keyword">exec</span> dbms_stats.gather_table_stats(<span class="keyword">user</span>,<span class="string">&#x27;t2&#x27;</span>,method_opt<span class="operator">=</span><span class="operator">&gt;</span><span class="string">&#x27;FOR ALL COLUMNS SIZE 1&#x27;</span>,cascade<span class="operator">=</span><span class="operator">&gt;</span><span class="literal">TRUE</span>);</span><br></pre></td></tr></table></figure><p>对于两张表的数据而言，其内容是一样的，但是其数据分布不同，</p><img src="/2021/09/17/learnOracle/table.png" class><p>其中T1可以看成随机存储，T2可以看成顺序存储。全表扫描的话，只需要访问连续的几个数据块即可取得查询所需的数据，如果使用索引访问的话，就需要先查找索引，然后再找到rowid，以此定位到记录，所花的时间可能比全表扫描更长。</p><p>全扫描是否高效取决于舍弃的数据块与所访问的数据块，这两者增加时，全表扫描效率会降低，如果数据很多的时候，上述情况下，索引可能会更有效.</p><ul><li><p><strong>高水位线（HWM）</strong>，理解为历史最高水位线会更好，它一般只增不减，</p><img src="/2021/09/17/learnOracle/before.png" class><p>在经过一些数据变动后</p><img src="/2021/09/17/learnOracle/after.png" class><p>HWM是全表扫描的尽头，全表扫描总是从数据存储开始的点扫描到高水位线为止(<em>这里暂时不理解为什么全表扫描要用这个参数，用当前水位线不是更好？这个HWM参数可能会导致数据查询时间大大增加</em>)，即使在之后数据有了删改，甚至只剩下一条数据，进行一次全表扫描仍需扫描到HWM为止。</p></li></ul></li><li><p>索引扫描访问</p><p>​    索引扫描访问就像从书的目录中找出确定的几页，索引中的条目记录了主键的值和该值所在条目的地址，只要能够找到该键值，就能够很快的定位到该记录。索引默认按照B-树结构构建。</p><ul><li><p>索引唯一扫描  </p><p>​    当要使用unique或者主键的列作为条件时，就会使用索引唯一扫描</p></li><li><p>索引范围扫描</p><p>​    当返回数据可能不止一条时采用的方法，如使用了<code>&lt;</code>,<code>&gt;</code>,<code>&gt;=</code>等运算符</p></li><li><p>索引跳跃扫描</p><p>​    当谓语中包含位于索引中非引导列上的条件，并且引导列的值是唯一的时候会选择索引跳跃扫描。比如在一张索引为（gender,employee_id）的索引表中，</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> employee_id <span class="operator">=</span> <span class="number">100</span>;</span><br></pre></td></tr></table></figure><p>此时就会采用索引跳跃扫描，看起来似乎跳过了前导列，直接对非前导列进行索引。上面的语句等效于</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> gender <span class="operator">=</span> <span class="string">&#x27;F&#x27;</span> <span class="keyword">and</span> employee_id <span class="operator">=</span> <span class="number">100</span> </span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span>  </span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> gender <span class="operator">=</span> <span class="string">&#x27;M&#x27;</span> <span class="keyword">and</span> employee_id <span class="operator">=</span> <span class="number">100</span>;</span><br></pre></td></tr></table></figure><p>如果前导列中的分类太多（比如id为前导列），则不适合采用该方法</p></li><li><p>索引全扫描</p><p>​    有多种情况下都将选择索引全扫描，包括：当没有谓语但是所需获取列的列表可以通过其中一列的索引来获得，谓语中包含一个位于索引中非引导列上的条件，或者数据可以通过一个排过序的索引来获取并且会省去单独的排序步骤。(如<code>where name like &quot;A%&quot;</code>)</p></li><li><p>索引快速全扫描</p></li></ul></li></ul><p><font size="6" face="幼圆" color="lightblue">to be continue···</font></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://www.cnblogs.com/linjiqin/archive/2012/01/15/2323030.html">Ruthless | oracle 高水位线详解</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何优雅地在PyCharm中调试代码</title>
      <link href="/2021/09/13/PyCharmDEBUG/"/>
      <url>/2021/09/13/PyCharmDEBUG/</url>
      
        <content type="html"><![CDATA[<hr><p>最近有个朋友走上了编程的道路,之前劝了他好几回不要入坑,他不听,铁了心要来,于是乎教了他一些PyCharm里面DEBUG的方法,这篇博客也是为他而写的,我尽量从最基础的操作开始讲解,如何一步一步的调试代码,找出代码中的BUG.<span id="more"></span></p><hr><h2 id="一年前的聊天记录"><a href="#一年前的聊天记录" class="headerlink" title="一年前的聊天记录"></a>一年前的聊天记录</h2><p>Comedian</p><p>你怎么把那个笔记打在黑白那个背景上的啊</p><p align="right">Geronimo</p><p align="right">?</p><p>Comedian</p><p>黑白的那个背景</p><p align="right">Geronimo</p><p align="right">什么东西啊？</p><p>Comedian</p><p>你上次给我看过那个</p><p>Comedian</p><img src="/2021/09/13/PyCharmDEBUG/codered.jpg" class><p>Comedian</p><p>像这个</p><p align="right">Geronimo</p><p align="right">这**</p><p align="right">Geronimo</p><p align="right">你是**吗</p><p align="right">Geronimo</p><p align="right">你以为是记笔记的软件呢</p><p>Comedian</p><p>因为记在word里很sb</p><p>Comedian</p><p>全是错误提醒</p><p>Comedian</p><p>还自动大小写</p><p align="right">Geronimo</p><p align="right">没事</p><p align="right">Geronimo</p><p align="right">你记在IDE里更**</p><p align="right">Geronimo</p><p align="right">写一行红一行</p><p><em>而一年后的今天,他竟然做到了：</em></p><img src="/2021/09/13/PyCharmDEBUG/codered2.jpg" class><h2 id="什么叫DEBUG"><a href="#什么叫DEBUG" class="headerlink" title="什么叫DEBUG"></a>什么叫DEBUG</h2><p>&emsp;要说到DEBUG那肯定要知道BUG是什么,BUG英文意为虫子,而计算机中的BUG一词也源自一只小飞虫：1945年9月9日,格蕾丝使用的Mark Ⅱ出现故障格蕾丝使用的Mark Ⅱ出现故障,经过了近一天的检查,格蕾丝找到了故障的原因：继电器中有一只死掉的蛾子（那时的计算机系统用的还都是一个个继电器,机器也异常庞大）,后来,”<a href="https://baike.baidu.com/item/bug/3353935">BUG</a>” 和”<a href="https://baike.baidu.com/item/debug/825293">DEBUG</a>”  这两个本来普普通通的词汇成了计算机领域中特指莫明其妙的“错误”和“排除错误”的专用词汇而流传至今,而格蕾丝·赫柏也因此成了第一个发现“bug”的人.</p><h2 id="如何找到bug"><a href="#如何找到bug" class="headerlink" title="如何找到bug"></a>如何找到bug</h2><p>&emsp;&emsp;找bug有许多方式,这里只介绍PyCharm里的DEBUG的一些办法.</p><h3 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h3><ul><li><em>python 3.6</em></li><li>PyCharm</li><li>PyCharm中文语言包插件(IDE中安装)</li></ul><p>&emsp;&emsp;我觉得IDE改语言为中文对于python初学者来说挺不错的,就算你英文很好我也建议你改用中文的语言设置.在学习python时没必要把时间浪费在花在理解英文意思上,阅读自己的母语总比阅读外语要来的效率高吧.同时自2020年5月份起,JetBrain已经加入了官方汉化,汉化的总体上的质量不错.</p><p>&emsp;&emsp;但是因为英文是原生语言,其中有些计算机中的名词并没有很统一的中文命名,而且有少数时候翻译会显得很生硬,这种情况确实是难以避免的.</p><h3 id="打断点"><a href="#打断点" class="headerlink" title="打断点"></a>打断点</h3><p>先来看这一段代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">A = [<span class="number">1196.167</span>,<span class="number">136.667</span>,<span class="number">1933.583</span>,<span class="number">3650.667</span>,<span class="number">255.0833</span>,<span class="number">1392.157</span>,<span class="number">2227.25</span>]</span><br><span class="line">B = [<span class="number">328.8636</span>,<span class="number">549.0152</span>,<span class="number">127.3485</span>,<span class="number">1597.576</span>,<span class="number">1198.712</span>,<span class="number">10437.95</span>,<span class="number">22699.32</span>]</span><br><span class="line">C = [<span class="number">325</span>, <span class="number">1831.5971209</span>,<span class="number">725.0694</span>,<span class="number">565.4167</span>]</span><br><span class="line">X = []</span><br><span class="line">Y = []</span><br><span class="line">Z = []</span><br><span class="line">weight = <span class="number">1e9</span></span><br><span class="line">weight_min = weight</span><br><span class="line">resA = [[]]</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> A:</span><br><span class="line">    resA += [i + [num] <span class="keyword">for</span> i <span class="keyword">in</span> resA]</span><br><span class="line"><span class="keyword">for</span> ls <span class="keyword">in</span> resA:</span><br><span class="line">    X.append(<span class="built_in">sum</span>(ls))</span><br><span class="line">A = X[<span class="number">1</span>:]</span><br><span class="line">result = []</span><br><span class="line">resB = [[]]</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> B:</span><br><span class="line">    resB += [i + [num] <span class="keyword">for</span> i <span class="keyword">in</span> resB]</span><br><span class="line"><span class="keyword">for</span> ls <span class="keyword">in</span> resB:</span><br><span class="line">    Y.append(<span class="built_in">sum</span>(ls))</span><br><span class="line">B = Y[<span class="number">1</span>:]</span><br><span class="line">resC = [[]]</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> C:</span><br><span class="line">    resC += [i + [num] <span class="keyword">for</span> i <span class="keyword">in</span> resC]</span><br><span class="line"><span class="keyword">for</span> ls <span class="keyword">in</span> resC:</span><br><span class="line">    Z.append(<span class="built_in">sum</span>(ls))</span><br><span class="line">C = Z[<span class="number">1</span>:]</span><br><span class="line">D = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> A:</span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> B:</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> C:</span><br><span class="line">            <span class="keyword">if</span> a+b+c &gt;= <span class="number">56400</span>:</span><br><span class="line">                weight = <span class="number">1.2</span>*a*<span class="number">0.6</span> + <span class="number">1.1</span>*b*<span class="number">0.66</span> + c*<span class="number">0.72</span></span><br><span class="line">                <span class="keyword">if</span> weight&lt;weight_min:</span><br><span class="line">                    weight_min = weight</span><br><span class="line">                    result = [a,b,c]</span><br><span class="line">                    D[weight]=result</span><br><span class="line"><span class="built_in">print</span>(weight_min)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"></span><br><span class="line">out = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;****************&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(out):</span><br><span class="line">    item = D.popitem()</span><br><span class="line">    <span class="built_in">print</span>(item[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(A)):</span><br><span class="line">        <span class="keyword">if</span> item[<span class="number">1</span>][<span class="number">0</span>] == A[i]:</span><br><span class="line">            <span class="built_in">print</span>(resA[i + <span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(B)):</span><br><span class="line">        <span class="keyword">if</span> item[<span class="number">1</span>][<span class="number">1</span>] == B[i]:</span><br><span class="line">            <span class="built_in">print</span>(resB[i + <span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(C)):</span><br><span class="line">        <span class="keyword">if</span> item[<span class="number">1</span>][<span class="number">2</span>] == C[i]:</span><br><span class="line">            <span class="built_in">print</span>(resC[i + <span class="number">1</span>])</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;**********&quot;</span>)</span><br></pre></td></tr></table></figure><p>这一段代码执行后报错了,PyCharm中的控制台输出如下:</p><img src="/2021/09/13/PyCharmDEBUG/debug1.jpg" class><p>它提示<code>popitem(): dictionary is empty</code>从字面上来看是字典为空出现的问题,那么哪里出了问题呢？前面说到在help.py这个文件中的第45行出了错,那我们就找找第45行中的错误,如果有经验的人一眼就可以看出问题所在了,但是对于新手来说可能会有一点困难,因此我们可以通过“打断点”的方式对程序进行调试(DEBUG).</p><p>&emsp;&emsp;打断点是指在程序中标记一个断点,在执行调试时,程序会在将要执行到断点所在那行的代码时停下,此时我们可以观察程序所保存的变量来确定程序出现BUG的原因.</p><p>&emsp;&emsp;以这个BUG为例,程序报错在第45行产生,那就在第45行打上断点：</p><img src="/2021/09/13/PyCharmDEBUG/breakpoint.gif" class><p><em>点击此处即可添加断点,再次点击即可取消断点</em></p><h3 id="开始调试"><a href="#开始调试" class="headerlink" title="开始调试"></a>开始调试</h3><p>打好断点后即可开始调试,可以通过右键PyCharm代码编辑栏选择“调试”来进行调试</p><img src="/2021/09/13/PyCharmDEBUG/debug.gif" class><p>等待程序执行到目标位置时,程序就会暂停并统计当前变量信息.</p><p>红框上的几个图标分别为：</p><p>步过：若函数A内存在子函数a时,不会进入子函数a内执行单步调试,而是把子函数a当作一个整体,一步执行.</p><p>步入：若函数A内存在子函数a时,会进入子函数a内执行单步调试.</p><p>单步执行我的代码：执行下一行但忽略libraries（导入库的语句）</p><p>步出：当目前执行在子函数a中时,选择该调试操作可以直接跳出子函数a,而不用继续执行子函数a中的剩余代码.并返回上一层函数.</p><p>运行到光标处：运行到鼠标光标所在的地方,在光标与当前断点中还存在断点或光标位置不可达（程序已经执行过的部分或if的另一个分支等情况）,则执行到下一个断点.</p><p>执行到这里,我们可以观察当前存在的变量,之前报错发现是”dictionary is empty”的错误,我们之前定义了字典为D,那就找D的变量,如果一时间找不到,则可以点击加号输入要监视的变量</p><img src="/2021/09/13/PyCharmDEBUG/addwatch.jpg" class><h3 id="找到问题根源"><a href="#找到问题根源" class="headerlink" title="找到问题根源"></a>找到问题根源</h3><p>找到D之后发现缺失D这个字典里面是空的,为什么是空的？那就找哪里修改了D,可以看到第37行我们对D进行了添加条目的操作,那么尝试在37行打断点,尝试进行调试：</p><img src="/2021/09/13/PyCharmDEBUG/ops.gif" class><p>此时发现我们的断点被直接跳过了,程序似乎”执行到”37行时并没有停下来列出消息,此时细想一下,程序有可能并没有执行到这一行,有可能是for一开始就跳出循环了,也有可能是if的条件为false了,所以直接跳过了这个地方,这时候我们又得判断一下是哪条语句导致的问题,那就在整个大循环开始的时候打上一个端点,然后一步步单步执行看程序的执行路径</p><img src="/2021/09/13/PyCharmDEBUG/step.gif" class><p>可以看到程序在总是在执行到<code> if a+b+c &gt;= 56400:</code>这一行之后就直接进入了下一步循环,并没有步入,这时候我们就可以提出一个合理的猜测：是否<code>a+b+c &gt;= 56400</code>永远为假呢？结合自己写的代码可以简易推出确实如此,写代码的时候有可能是数据录入错误,或者是条件表达式写错了.</p><h3 id="评估表达式工具"><a href="#评估表达式工具" class="headerlink" title="评估表达式工具"></a>评估表达式工具</h3><img src="/2021/09/13/PyCharmDEBUG/calc.jpg" class><p>可以看到在各种调试按钮边上还有一个不起眼的计算器样子的图案,那就是评估表达式工具,它可以在调试过程中执行自定义的代码行（段）,比如想要在下面这段代码中判断if条件表达式的信息</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># a=1420,b=220,c=300</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">if</span> (a+b+c &lt;= <span class="number">2000</span>) &amp; (c &lt; <span class="number">200</span>):</span><br><span class="line">    flag = <span class="literal">True</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>可以通过计算条件表达式来进行判断</p><img src="/2021/09/13/PyCharmDEBUG/eval.gif" class><p>这个表达式其实就是额外执行了一段代码,如果在里面对变量进行赋值操作的话,也会生效</p><img src="/2021/09/13/PyCharmDEBUG/change.gif" class><p>因此注意一些函数,比如pop（）函数,它可以看到栈中最后的一个元素,在执行时该元素也在栈中被剔除了,因此不要用到这些会影响到变量的函数.</p><img src="/2021/09/13/PyCharmDEBUG/pop.gif" class><h3 id="修改变量"><a href="#修改变量" class="headerlink" title="修改变量"></a>修改变量</h3><p>有时候我们会有修改程序运行过程中变量的需求,我们此时就可以通过上面评估表达式进行变量赋值操作来修改变量,同时也可以通过直接右键变量设置值来进行修改</p><img src="/2021/09/13/PyCharmDEBUG/change2.gif" class><h3 id="CTRL-左键点击"><a href="#CTRL-左键点击" class="headerlink" title="CTRL + 左键点击"></a>CTRL + 左键点击</h3><p>有时候代码太过冗长,不容易找到某个变量的定义和修改所在的位置,我们即可通过按住<code>ctrl</code>然后鼠标单击变量名进行查找</p><p>该功能在调试外也适用,如果点击的是一些导入库或者是python的一些内置函数或类型,那么PyCharm也会转到相应的定义页面,一般来说这些函数或者类下面都会有</p><img src="/2021/09/13/PyCharmDEBUG/exl.gif" class><h2 id="最后说一说"><a href="#最后说一说" class="headerlink" title="最后说一说"></a>最后说一说</h2><p>&emsp;&emsp;无论如何,要找到BUG,就得看懂程序,理清其中的逻辑,逻辑都没有弄清楚就想找到并解决问题,怎么可能呢?用各种外部库函数的时候也要多去看看文档,看看源码,可能就像当年格蕾丝一样,在上百行上千行的代码中找了一整天的bug,就是由一只小小的“飞蛾”引起的.</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://blog.csdn.net/qq_33472146/article/details/90606359">醒了的追梦人|Pycharm Debug调试</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cron计划任务</title>
      <link href="/2021/09/09/cron/"/>
      <url>/2021/09/09/cron/</url>
      
        <content type="html"><![CDATA[<hr><p>&emsp;&emsp;之前在做数据解析自动化导入的时候,因为前端的调度系统出现了问题,导致无法连接上远程的shell,因此只能在本地进行任务的自动导入,用到的就是 cron 这个工具.<span id="more"></span></p><hr><p><em><strong>本文介绍的是Linux系统中的 cron 定时任务， Java 中的 Spring 的 cron 会有所不同，不过基本上是大同小异</strong></em></p><h2 id="cron-介绍"><a href="#cron-介绍" class="headerlink" title="cron 介绍"></a>cron 介绍</h2><p>在 Linux 系统中 crontab 是用来定期执行程序的命令,当安装完成操作系统之后,默认便会启动此任务调度命令. cron每分钟会定期检查是否有要执行的工作,如果有要执行的工作便会自动执行该工作.</p><h3 id="cron-和-crontab-的区别"><a href="#cron-和-crontab-的区别" class="headerlink" title="cron 和 crontab 的区别"></a>cron 和 crontab 的区别</h3><p>cron 是 Linux 进行定期执行程序的一个工具,它提供给用户一个条 crontab 命令来进行调度使用,而 crontab 则是 cron 提供给用户进行计划任务管理的一条命令.</p><h2 id="使用-cron"><a href="#使用-cron" class="headerlink" title="使用 cron"></a>使用 cron</h2><h3 id="cron-安装"><a href="#cron-安装" class="headerlink" title="cron 安装"></a>cron 安装</h3><p>&emsp;&emsp;一般 Linux 系统中都会默认安装并自动启用 cron,可输入 <code>cron</code>命令进行查看,如果没有安装,则可以进行手动安装:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># CentOS</span></span><br><span class="line">yum install vixie-cron</span><br><span class="line">yum install crontabs</span><br><span class="line"><span class="comment"># Ubuntu</span></span><br><span class="line">apt-get install cron</span><br><span class="line"><span class="comment"># 启动服务</span></span><br><span class="line">service cron start</span><br><span class="line"><span class="comment"># 设置自启动</span></span><br><span class="line">systemctl <span class="built_in">enable</span> cron</span><br></pre></td></tr></table></figure><h3 id="cron-使用"><a href="#cron-使用" class="headerlink" title="cron 使用"></a>cron 使用</h3><p>&emsp;&emsp;启动了 cron 服务之后,就可以通过 crontab 命令来进行管理使用,cron通过读取 crontab 配置表来进行计划的执行,对于用户而言,配置表在<code>/var/spool/cron/crontabs/username</code>中,要修改表只需要通过执行<code>crontab -e</code>就可对里面的数据进行修改.而对于系统而言,计划任务的配置在<code>/etc/crontab</code>中,直接通过修改该文件即可进行全局配置.</p><p>&emsp;&emsp;cron 基本的配置如下:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># .---------------- minute (0 - 59)</span></span><br><span class="line"><span class="comment"># |  .------------- hour (0 - 23)</span></span><br><span class="line"><span class="comment"># |  |  .---------- day of month (1 - 31)</span></span><br><span class="line"><span class="comment"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span></span><br><span class="line"><span class="comment"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span></span><br><span class="line"><span class="comment"># |  |  |  |  |</span></span><br><span class="line"><span class="comment"># *  *  *  *  * user-name command to be executed</span></span><br><span class="line">t1 t2 t3 t4 t5 (user-name) <span class="built_in">command</span></span><br></pre></td></tr></table></figure><p>其中,command 即为打算计划执行的命令,t1、t2、t3、t4、t5 分别为执行日期分钟、小时、日、月和星期的设置,以这些数据即可具体到一年中的每一天具体的某时某分的一个时间点.其中:</p><ul><li><code>*</code>代表所有时间</li><li><code>-</code>代表时间段区间</li><li><code>,</code>代表单独时间</li><li><code>/</code>代表每隔多少时间</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">00 8 *  *  1-5  wall Good morning, programmer!</span><br></pre></td></tr></table></figure><p>比如上面的这条命令就可以在每周工作日早上8点钟向所有登录终端的用户发送一条消息.</p><p>如果想设置工作日,从8点起到18点,每隔2小时发送一条消息,可以改成:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">00 8-18/2 *  *  1-5  wall Hello, programmer!</span><br></pre></td></tr></table></figure><p>这些参数中,有两个比较特别: t3 和 t5 ,比如:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">00 8 9  *  5  wall Good morning, programmer!</span><br></pre></td></tr></table></figure><p>2021年9月9日是周四,这条命令会在每月的9号和每周的周五执行,具体把时间分组的话可以分为G1:t1,t2（几时几分）,G2:t3,t4（几月几日）,G3:t5（周几）,最后的执行时间就是R1:(G1,G2)与R2:(G1,G3)取并集(∪).而每个G、R之内的时间都是取交集(∩)的.</p><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>&emsp;&emsp;在网上找到了一个可以在线进行 cron 表达式测试的网站:<a href="https://tool.lu/crontab/">crontab 执行时间计算</a>,如果对于时间设置不熟悉的可以在这里多尝试一下.</p><h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><p>这里提供了一些cron常用的模板以供参考</p><table><thead><tr><th>效果</th><th>cron模板(中括号中数字为参数顺序)</th><th>cron预览</th><th>默认值</th></tr></thead><tbody><tr><td>每15分钟构建一次</td><td>0/{} * * * *</td><td>0/15 * * * *</td><td>15</td></tr><tr><td>周1到周5，8点~17点，2小时构建一次</td><td>0 {2}-{3}/{4} * {0}-{1}</td><td>0 8-17/2 * * MON-FRI</td><td>1,5,8,17,2</td></tr><tr><td>每天8~17点，2小时构建一次</td><td>0 {0}-{1}/{2} * *</td><td>0 8-17/2 * * *</td><td>8,17,2</td></tr><tr><td>每天8点构建一次</td><td>0 {} * * *</td><td>0 8 * * *</td><td>8</td></tr></tbody></table><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://www.runoob.com/linux/linux-comm-crontab.html">菜鸟教程 | Linux crontab 命令</a></li><li><a href="https://www.cnblogs.com/intval/p/5763929.html">再見理想 - 博客园</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cx_Oracle操作Oracle数据库(二):代码篇</title>
      <link href="/2021/08/31/cx_Oracle_2/"/>
      <url>/2021/08/31/cx_Oracle_2/</url>
      
        <content type="html"><![CDATA[<hr><p>&emsp;&emsp;<a href="/2021/08/30/cx_Oracle_1/" title="上一篇">上一篇</a>讲了cx_Oracle的安装以及相关的环境配置,本篇就来讲讲cx_Oracle这个模块的具体使用方法.<span id="more"></span></p><hr><p>&emsp;&emsp;<em>本文只介绍基本的一些数据库最基本的操作方法,不涉及到连结池、存储过程等操作</em></p><hr><p>详细信息请参阅<a href="https://cx-oracle.readthedocs.io/en/latest/">cx_Oracle官方文档</a></p><hr><h2 id="cx-Oracle一些对象的介绍"><a href="#cx-Oracle一些对象的介绍" class="headerlink" title="cx_Oracle一些对象的介绍"></a>cx_Oracle一些对象的介绍</h2><h3 id="在成功连接数据库之后"><a href="#在成功连接数据库之后" class="headerlink" title="在成功连接数据库之后"></a>在成功连接数据库之后</h3><p>在连接上数据库之后,cx_Oracle会返回一个<a href="https://cx-oracle.readthedocs.io/en/latest/api_manual/connection.html#connection-object">Connection对象</a>,该对象用的比较多的就是<code>Connection.cursor()</code>和<code>Connection.close()</code>了,前者是用来返回一个新的<em>cursor</em> 对象,我们进行的CRUD等大部分的操作都要用到<em>cursor</em> 对象来进行操作.后者则是关闭连接的操作,每次执行完程序后,都需要将连接关闭.</p><h3 id="开始前的几个小建议"><a href="#开始前的几个小建议" class="headerlink" title="开始前的几个小建议"></a>开始前的几个小建议</h3><ul><li><p>建立完数据库连接之后,尽量使用try——finally语句,避免因为程序出错而导致数据库连接未被正常关闭的现象的出现.    </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">conn = cx_Oracle.connect(DB)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    ...<span class="comment"># your codes</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    conn.close()</span><br></pre></td></tr></table></figure><p>这样一来,即使程序运行出错,最终也会关闭连接.</p></li><li><p>使用<em>cursor</em>游标时也要注意,需要手动关闭游标,不过为了方便,一般有需要到时可以使用with…as…的方法来进行调用,下面的这段代码能够确保一旦代码块完成,游标就会被回收关闭.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> conn.cursor() <span class="keyword">as</span> cur:</span><br><span class="line">    ...<span class="comment"># cursor operation</span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure></li></ul><h2 id="使用cx-Oracle"><a href="#使用cx-Oracle" class="headerlink" title="使用cx_Oracle"></a>使用cx_Oracle</h2><h3 id="使用使用cx-Oracle进行查询"><a href="#使用使用cx-Oracle进行查询" class="headerlink" title="使用使用cx_Oracle进行查询"></a>使用使用cx_Oracle进行查询</h3><p>执行完对应sql语句后,游标可以通过按行进行迭代来获取所要查询的数据.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> conn.cursor() <span class="keyword">as</span> cur:</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> cur.execute(sql):</span><br><span class="line">        <span class="built_in">print</span>(row)</span><br></pre></td></tr></table></figure><p>同时也可以通过游标对象的fetch()方法来获取数据:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> conn.cursor() <span class="keyword">as</span> cur:</span><br><span class="line">    cur = cur.execute(sql)</span><br><span class="line">    result = cur.fetchone()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(result))</span><br><span class="line"><span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;这个方法首先通过游标<code>cursor.execute()</code>执行sql语句,之后通过<em>cursor</em> 的fetch方法来获取结果,通过打印输出可以看出执行语句获取的结果是以tuple元组的方式返回的,取到数据后就可以进行其他的操作了,而cur也随着代码执行结束自动销毁了.</p><p>&emsp;&emsp;除了用<code>cursor.fetchone()</code>方法之外,还可以用<code>cursor.fetchall()``cursor.fetchmany(num_rows)</code>方法来获取对应行数的数据.</p><p>&emsp;&emsp;如果返回的数据不止一条,数据则会以列表的方式返回,列表中的每一条数据都是一个元组,每个元组表示查询到的一行数据,如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(<span class="string">&quot;LiMing&quot;</span>,<span class="number">12</span>,<span class="number">1</span>),(<span class="string">&quot;LiHu&quot;</span>,<span class="number">13</span>,<span class="number">1</span>),(<span class="string">&quot;XiaoHong&quot;</span>,<span class="number">12</span>,<span class="number">0</span>),(<span class="string">&quot;XiaoHui&quot;</span>,<span class="number">12</span>,<span class="number">0</span>)]</span><br></pre></td></tr></table></figure><p>通过上述方法就能获取到我们执行数据库操作后查询到的结果了.</p><h3 id="使用cx-Oracle进行其他操作（DML、DDL、DCL）"><a href="#使用cx-Oracle进行其他操作（DML、DDL、DCL）" class="headerlink" title="使用cx_Oracle进行其他操作（DML、DDL、DCL）"></a>使用cx_Oracle进行其他操作（DML、DDL、DCL）</h3><p>&emsp;&emsp;进行其他操作一般不需要处理返回结果集,用到的执行函数也是<code>execute()</code>,因此直接编写sql语句再调用execute()方法执行即可.</p><p>&emsp;&emsp;但是有一点需要特别注意,当<code>cur.execute()</code>执行一条 SQL 语句的同时会启动或继续一个事务.默认情况下,cx_Oracle 不会将此事务提交到数据库.方法<code>conn.commit()</code>和<code>conn.rollback()</code>方法可用于显式提交或回滚事务：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cursor.execute(<span class="string">&quot;insert ... into ... values ...)</span></span><br><span class="line"><span class="string">connection.commit()</span></span><br></pre></td></tr></table></figure><p>数据库连接conn关闭时,任何<font color="#fdb933">未被提交的事务</font>都会被回滚.</p><h2 id="使用绑定变量-Bind-Variables"><a href="#使用绑定变量-Bind-Variables" class="headerlink" title="使用绑定变量(Bind Variables)"></a>使用绑定变量(Bind Variables)</h2><p>&emsp;&emsp;因为工作中需要对数据进行批量写入,我就进行了python中字符串format的用法对sql语句进行修改:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sql = <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">insert into classroom values (&#x27;<span class="subst">&#123;name&#125;</span>&#x27;, <span class="subst">&#123;age&#125;</span>,<span class="subst">&#123;sex&#125;</span>)&quot;&quot;&quot;</span></span><br><span class="line">cursor.execute(sql)</span><br></pre></td></tr></table></figure><p>执行也没有问题,但是在我一次查看文档时发现了一段话  </p><p><strong><em>Never concatenate or interpolate user data into SQL statements:</em></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">did = <span class="number">280</span></span><br><span class="line">dnm = <span class="string">&quot;Facility&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># !! Never do this !!</span></span><br><span class="line">sql = <span class="string">f&quot;&quot;&quot;insert into departments (department_id, department_name)</span></span><br><span class="line"><span class="string">          values (<span class="subst">&#123;did&#125;</span>, &#x27;<span class="subst">&#123;dnm&#125;</span>&#x27;)&quot;&quot;&quot;</span></span><br><span class="line">cursor.execute(sql)</span><br></pre></td></tr></table></figure><p>文档中说到千万不要直接用格式化字符串的方式提交sql命令,理由很简单,因为这样会存在sql注入的问题,把整句sql的语句交给用户来定义肯定是不理性的,之后看了一下文档,解决方法并不复杂,cx_Oracle提供了一个预编译传参的手段,将sql语句的命令预先编译,之后再将参数传入,以此来避免恶意的sql注入问题,我们可以通过<code>cur.execute(sql,bind_params)</code>这条命令来代替之前不安全的方法,bind_params是一个参数列表,比如之前的插入语句就可以修改为这样:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sql = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">insert into classroom values (:name, :age,:sex)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">bind_params = [<span class="string">&quot;XiaoSe&quot;</span>,<span class="number">8</span>,<span class="number">1</span>]</span><br><span class="line">cur.execute(sql,bind_params)</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;绑定变量方式可以按照位置、名称、类型等绑定,详细内容参阅<a href="https://cx-oracle.readthedocs.io/en/latest/user_guide/bind.html#using-bind-variables">Using Bind Variables</a>.</p><h2 id="数据批处理"><a href="#数据批处理" class="headerlink" title="数据批处理"></a>数据批处理</h2><p>cx_Oracle为提供了数据批量写入或更新的功能,使得sql语句只用编译一次即可,每次只需更改变量即可,适用于大批量的数据写入或更新的情况.下表将用于示例：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> CLASSROOM</span><br><span class="line">(</span><br><span class="line">    NAME VARCHAR2(<span class="number">10</span>),</span><br><span class="line">    AGE  NUMBER(<span class="number">4</span>),</span><br><span class="line">    SEX  NUMBER(<span class="number">1</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;将下面6条数据数据一次性插入到数据库中,代码如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">data = [</span><br><span class="line">    [<span class="string">&#x27;XiaoMing&#x27;</span>,<span class="number">13</span>,<span class="number">1</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoHong&#x27;</span>,<span class="number">12</span>,<span class="number">0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoHui&#x27;</span>,<span class="number">13</span>,<span class="number">0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoMei&#x27;</span>,<span class="number">13</span>,<span class="number">0</span>],</span><br><span class="line">    [<span class="string">&#x27;LiBai&#x27;</span>,<span class="number">14</span>,<span class="number">1</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoSe&#x27;</span>,<span class="number">13</span>,<span class="number">1</span>]</span><br><span class="line">]</span><br><span class="line">cursor.executemany(<span class="string">&quot;insert into CLASSROOM values (:1, :2, :3)&quot;</span>, data)</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;该方法<code>executemany()</code>一次就可以将这批数据写入数据库,避免了5次往返写入,在大批量的数据上效果显著.</p><h3 id="使用批处理时需要注意的一个问题"><a href="#使用批处理时需要注意的一个问题" class="headerlink" title="使用批处理时需要注意的一个问题"></a>使用批处理时需要注意的一个问题</h3><p>&emsp;&emsp;在我做解析excel文件时,想要进一步提高数据库写入速度,我就想用<code>executemany()</code>的批处理来优化,将读取到的每一行以<code>append()</code>的方式放入一个列表中,然后最终通过<code>executemany()</code>来一步完成,但是中间却报错了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: expecting number</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;这一看,显然是数据格式不对了,但是之前用<code>execute()</code>执行的时候从来没有出错,在仔细分析后,我找到了造成问题的原因,下图是我之前读取数据的excel原表（数据已做更改）</p><img src="/2021/08/31/cx_Oracle_2/excel.png" class><p>&emsp;&emsp;其中中间的几行数据并没有信息,在excel读取数据的时候会把空格读取成<code>&quot;&quot;</code><br>&emsp;&emsp;还是以之前的<em>CLASSROOM</em> 表为例,excel表如下：</p><img src="/2021/08/31/cx_Oracle_2/classroom.png" class><p>&emsp;&emsp;python从excel中读取到的数据如下:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">data = [</span><br><span class="line">    [<span class="string">&#x27;XiaoMing&#x27;</span>,<span class="number">13.0</span>,<span class="number">1.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoHong&#x27;</span>,<span class="number">12.0</span>,<span class="number">0.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoHui&#x27;</span>,<span class="string">&quot;&quot;</span>,<span class="number">0.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoMei&#x27;</span>,<span class="number">13.0</span>,<span class="number">0.0</span>],</span><br><span class="line">    [<span class="string">&#x27;LiBai&#x27;</span>,<span class="number">14.0</span>,<span class="number">1.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoSe&#x27;</span>,<span class="number">13.0</span>,<span class="number">1.0</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;可以看到第4行中<code>XiaoHui</code>她的年龄数据因为缺失变成了<code>&quot;&quot;</code>,与其它的数字类型不同,因此才造成的错误.而后我又尝试将插入的数据改成:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">data = [</span><br><span class="line">    [<span class="string">&#x27;XiaoMing&#x27;</span>,<span class="string">&quot;&quot;</span>,<span class="number">1.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoHong&#x27;</span>,<span class="number">12.0</span>,<span class="number">0.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoHui&#x27;</span>,<span class="number">13.0</span>,<span class="number">0.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoMei&#x27;</span>,<span class="number">13.0</span>,<span class="number">0.0</span>],</span><br><span class="line">    [<span class="string">&#x27;LiBai&#x27;</span>,<span class="number">14.0</span>,<span class="number">1.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoSe&#x27;</span>,<span class="number">13.0</span>,<span class="number">1.0</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;使得第一行数据缺失,而后报错内容为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TypeError: expecting string or bytes object</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;至此,我也算是知道了这个报错的出现以及之前按条插入数据时没有出现错误的原因了</p><p>&emsp;&emsp;在执行<code>execute()</code>命令时,程序会自动按照输入的数据来编译出一条sql命令以适应数据库的表,之前每一次执行都会单独编译一条sql语句,例如输入了<code> [&#39;XiaoHong&#39;,12.0,0.0],</code>这一行数据,程序就会将对应的<code>string</code>,<code>float</code>,<code>float</code>转化成数据库中的所需求的<code>string</code>,<code>int</code>,<code>int</code>这样的格式,在下一轮迭代中,程序读取到了<code>string</code>,<code>string</code>,<code>float</code>,那么又会产生一个从<code>string</code>,<code>string</code>,<code>float</code>到<code>string</code>,<code>int</code>,<code>int</code>这样的映射以支持不同数据类型的输入.</p><p>&emsp;&emsp;然而在执行<code>executemany()</code>命令时,sql命令<strong>只会编译一次</strong>,所以它只能支持一组数据关系映射,它会读取列表中的第一组元素产生数据映射,所以在数据为</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">data = [</span><br><span class="line">    [<span class="string">&#x27;XiaoMing&#x27;</span>,<span class="string">&quot;&quot;</span>,<span class="number">1.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoHong&#x27;</span>,<span class="number">12.0</span>,<span class="number">0.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoHui&#x27;</span>,<span class="number">13.0</span>,<span class="number">0.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoMei&#x27;</span>,<span class="number">13.0</span>,<span class="number">0.0</span>],</span><br><span class="line">    [<span class="string">&#x27;LiBai&#x27;</span>,<span class="number">14.0</span>,<span class="number">1.0</span>],</span><br><span class="line">    [<span class="string">&#x27;XiaoSe&#x27;</span>,<span class="number">13.0</span>,<span class="number">1.0</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>的时候,它就会要求其中输入的<code>age</code>栏都是<code>string</code>类型,当遇到<code>&#39;XiaoHong&#39;</code>的<code>12.0</code>时,便会出错退出.</p><p>&emsp;&emsp;知道了出错的原因那就好办了,只需要在读取excel表数据时将数据强转为对应于数据库表的类型就可以了,之后就可以用<code>executemany()</code>的方法进行处理数据了.</p><h2 id="使用过程中可能会遇到的一些错误"><a href="#使用过程中可能会遇到的一些错误" class="headerlink" title="使用过程中可能会遇到的一些错误"></a>使用过程中可能会遇到的一些错误</h2><h3 id="ORA-00911-invalid-character"><a href="#ORA-00911-invalid-character" class="headerlink" title="ORA-00911: invalid character"></a>ORA-00911: invalid character</h3><p>出现这个问题很有可能是sql句末出现了分号<code>;</code>,在通过cx_Oracle对数据库进行操作时,所有的sql语句都不需要加最后的分号,去掉分号再尝试一遍即可.</p><h3 id="ORA-00984-column-not-allowed-here"><a href="#ORA-00984-column-not-allowed-here" class="headerlink" title="ORA-00984: column not allowed here"></a>ORA-00984: column not allowed here</h3><p>这个问题就是因为插入的字符串没有加单引号,看看代码是否写成了类似于</p><p><code>sql = f&quot;&quot;&quot; insert into classroom values (&#123;name&#125;, &#123;age&#125;,&#123;sex&#125;)&quot;&quot;&quot;</code></p><p>的样子,出现这个原因大概率是因为使用了格式化字符串的方法来编写sql语句,所以这里还是再强调一遍推荐使用**<a href="#%E4%BD%BF%E7%94%A8%E7%BB%91%E5%AE%9A%E5%8F%98%E9%87%8F-Bind-Variables">绑定变量</a>**的方法进行sql语句编写</p><h3 id="程序执行完后数据并未写入数据库"><a href="#程序执行完后数据并未写入数据库" class="headerlink" title="程序执行完后数据并未写入数据库"></a>程序执行完后数据并未写入数据库</h3><p>目前没有遇到过如此问题,不过记得关闭连接之前先提交事务<code>commit()</code>,该问题很有可能是因为事务忘提交而导致的事务回滚造成的.</p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cx_Oracle操作Oracle数据库(一):配置篇</title>
      <link href="/2021/08/30/cx_Oracle_1/"/>
      <url>/2021/08/30/cx_Oracle_1/</url>
      
        <content type="html"><![CDATA[<hr><p>&emsp;&emsp;前不久刚找到了第一份实习工作,刚进公司搞不了啥东西,也就熟悉一下环境,于是导师就给了我一份解析excel数据的活干.要求是将远程服务器中的数据拉到本地,并用python将数据进行解析,然后存入Oracle数据库中.网上查了一下,看上去使用最多的就是cx_Oracle这个库了,cx_Oracle配置起来较为复杂,刚开始的时候弄了半天才弄好.<span id="more"></span>  </p><hr><h2 id="cx-Oracle-介绍"><a href="#cx-Oracle-介绍" class="headerlink" title="cx_Oracle 介绍"></a>cx_Oracle 介绍</h2><hr><p>详细信息请参阅<a href="https://cx-oracle.readthedocs.io/en/latest/">cx_Oracle官方文档</a></p><hr><p>&emsp;&emsp;cx_Oracle是一个Python扩展模块,支持Python访问Oracle数据库.</p><h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h3><p>&emsp;&emsp;该拓展模块大致的结构如下图  </p><img src="/2021/08/30/cx_Oracle_1/cx_Oracle_arch.png" class title="cx_Oracle_arch">  <p>&emsp;&emsp;开发者通过编写python程序来调用cx_Oracle模块,而cx_Oracle在内部动态加载 Oracle 客户端库以访问 Oracle 数据库,连接的数据库可以在本地,也可以在远程服务器.<br>&emsp;&emsp;图中与Oracle数据库真正进行通信连接的是最下方的Oracle client libraries，也就是oracle客户端的一些库，由此可以看出,要想通过cx_Oracle操控Oracle数据库,仅仅安装cx_Oracle这个模块是不够的，必须用到Oracle的客户端.</p><h3 id="instant-client"><a href="#instant-client" class="headerlink" title="instant client"></a>instant client</h3><p>&emsp;&emsp;客户端一般使用<a href="https://www.oracle.com/database/technologies/instant-client/downloads.html">oracle instant client</a>,cx_Oracle在进行操作时只需要用到oracle客户端中的一些库,因此选择Basic Light进行下载即可,注意选的时候不要选错了版本，版本选择最新的就好,以Windows.x64为例，选择此项，高版本的向下一般都可以兼容.  </p><img src="/2021/08/30/cx_Oracle_1/download.png" class><p>下载完后解压,之后将文件夹路径添加到系统变量中即可完成oracle client的准备.</p><h2 id="cx-Oracle-安装"><a href="#cx-Oracle-安装" class="headerlink" title="cx_Oracle 安装"></a>cx_Oracle 安装</h2><p><em>注意:文章中使用的版本为 <strong>python3.6+</strong></em><br>&emsp;&emsp;由于本人python脚本的编写是在pycharm中进行的,因此直接通过GUI添加了cx_Oracle这个模块,如果是命令行,则可以用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install cx-oracle</span><br></pre></td></tr></table></figure><p>来进行安装.如果安装失败,很有可能是网络原因,可以选择换pip镜像源或者<a href="https://pypi.org/project/cx-Oracle/#files">下载离线包</a>来安装</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#转移到存放下载好的模块的地方</span></span><br><span class="line"><span class="built_in">cd</span> .../modules/</span><br><span class="line">pip3 install cx_Oracle-8.2.1-cp36-cp36m-manylinux1_x86_64.whl</span><br></pre></td></tr></table></figure><h2 id="使用cx-Oracle连接数据库"><a href="#使用cx-Oracle连接数据库" class="headerlink" title="使用cx_Oracle连接数据库"></a>使用cx_Oracle连接数据库</h2><p>安装完cx_Oracle库之后即可开始使用cx_Oracle操作数据库  ，下面是一个最简易的cx_Oracle连接数据库的方式。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cx_Oracle</span><br><span class="line">DB = <span class="string">&#x27;username/password@ip:port/SERVICE_NAME&#x27;</span></span><br><span class="line">conn = cx_Oracle.connect(DB)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    sql = <span class="string">&quot;select to_char(sysdate,&#x27;yyyy-mm-dd hh24:mi:ss&#x27;) from dual&quot;</span></span><br><span class="line">    <span class="keyword">with</span> conn.cursor() <span class="keyword">as</span> cur:</span><br><span class="line">        result = cur.execute(sql).fetchall()</span><br><span class="line">    <span class="built_in">print</span>(result[<span class="number">0</span>][<span class="number">0</span>])</span><br><span class="line">    <span class="comment">#2021-08-31 09:47:16</span></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    conn.close()</span><br></pre></td></tr></table></figure><p>如果配置无误，最后数据库会成功返回当前的日期时间.</p><p>如果环境变量中配置过数据库的TNS_ADMIN路径并配置好了tnsnames.ora文件，就可以通过如下方式连接:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#tnsnames.ora文件配置示例</span></span><br><span class="line">mydb =</span><br><span class="line">  (DESCRIPTION =</span><br><span class="line">    (ADDRESS_LIST =</span><br><span class="line">      (ADDRESS = (PROTOCOL = TCP)(HOST = x.x.x.x)(PORT = 1521))</span><br><span class="line">    )</span><br><span class="line">    (CONNECT_DATA =</span><br><span class="line">      (SERVICE_NAME = orcl)</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">  </span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">connection = cx_Oracle.connect(user=user, password=userpwd, dsn=<span class="string">&quot;mydb&quot;</span>,</span><br><span class="line">                               encoding=<span class="string">&quot;UTF-8&quot;</span>)</span><br></pre></td></tr></table></figure><p>只需要配置用户名和密码即可进行连接。</p><h2 id="附一些常见错误："><a href="#附一些常见错误：" class="headerlink" title="附一些常见错误："></a>附一些常见错误：</h2><h3 id="DPI-1047：这一类报错通常是cx-oracle一些本地的配置的问题"><a href="#DPI-1047：这一类报错通常是cx-oracle一些本地的配置的问题" class="headerlink" title="DPI-1047：这一类报错通常是cx_oracle一些本地的配置的问题"></a>DPI-1047：这一类报错通常是cx_oracle一些本地的配置的问题</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cx_Oracle.DatabaseError: DPI-1047: Cannot locate a 64-bit Oracle Client library: <span class="string">&quot;The specified module could not be found&quot;</span></span><br></pre></td></tr></table></figure><p><strong>原因</strong> </p><ul><li>系统路径中没有添加Oracle的客户端路径  </li><li>系统安装的cx_Oracle版本与Oracle客户端版本不匹配（ x32 | x64 ）</li></ul><p><strong>解决方法</strong>  </p><p>如果路径有误:<br>&emsp;&emsp;添加相应的路径到环境变量中  </p><ul><li>Windows:<br>  PATH中添加…\instantclient_11_2文件夹即可</li><li>Linux:<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#永久将该路径存入系统变量中</span></span><br><span class="line">sudo sh -c <span class="string">&quot;echo /opt/oracle/instantclient_21_1 &gt; /etc/ld.so.conf.d/oracle-instantclient.conf&quot;</span>  </span><br><span class="line">sudo ldconfig</span><br></pre></td></tr></table></figure>如果是版本不匹配，那么就重新下载位数匹配的客户端客户端再次进行尝试.  </li></ul><h3 id="ORA-12514：这一类报错通常是数据库服务方面的问题"><a href="#ORA-12514：这一类报错通常是数据库服务方面的问题" class="headerlink" title="ORA-12514：这一类报错通常是数据库服务方面的问题"></a>ORA-12514：这一类报错通常是数据库服务方面的问题</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cx_Oracle.DatabaseError: ORA-12514: TNS:listener does not currently know of service requested <span class="keyword">in</span> connect descriptor</span><br></pre></td></tr></table></figure><p><strong>原因</strong> </p><ul><li>Oracle连接服务名设置出错  </li></ul><p><strong>解决方法</strong>  </p><ul><li><p>修改Oracle连接的服务名，服务名可以通过oracle命令行查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SQL</span><span class="operator">&gt;</span> <span class="keyword">SHOW</span> <span class="keyword">PARAMETER</span> service_names</span><br><span class="line">NAME                                 TYPE        <span class="keyword">VALUE</span></span><br><span class="line"><span class="comment">------------------------------------ ----------- ------------------------------</span></span><br><span class="line">service_names                        string      orcl</span><br></pre></td></tr></table></figure><p>可以看到这里服务名就是orcl(一般默认服务名即为orcl).修改后应该就可以成功连接了.</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ssh密钥验证那些事</title>
      <link href="/2021/08/28/SSHkey/"/>
      <url>/2021/08/28/SSHkey/</url>
      
        <content type="html"><![CDATA[<hr><p>&emsp;&emsp;第一次接触到ssh密钥还是我在捣鼓树莓派的时候，当时拿着我的树莓派PI4B在搞项目，做一些IoT之类的小系统.当时需要上传各种驱动和相关代码进行测试，单纯的命令行进行ssh连接肯定会比较麻烦，但又感觉像<a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/">putty</a>、<a href="https://mobaxterm.mobatek.net/">MobaXterm</a>这类的又不够美观，于是就选择了Vscode来作为IDE，它里面的remote-ssh插件可以很方便的与linux服务器进行ssh连接，只需要配置好.config文件就可以进行连接了.但是有一个问题，每次连树莓派的时候我就都得输一次密码，有时候一不小心关了终端什么的，又得重新开一遍，挺麻烦的，于是就在网上找有没有什么方法可以让vscode记录密码自动登录或者可以避开密码验证什么的，然后我就找到了这个叫做SSH key 的东西.<span id="more"></span>  </p><hr><h2 id="SSH-key简单介绍"><a href="#SSH-key简单介绍" class="headerlink" title="SSH key简单介绍"></a>SSH key简单介绍</h2><p>&emsp;&emsp;通常我们进行SSH远程连接服务器是指定一个用户，然后再输入其密码，由服务器进行验证通过之后即可建立连接.<br>&emsp;&emsp;SSH key的验证方法有一些不同，它会同时产生两个密码(密钥)，其中一个被称作公钥，另一个被称作私钥.公钥，顾名思义，就是可以公开的密钥，交由服务器保管作为加密密钥和凭证，而私钥则是自己需要秘密保管的密钥.<br>&emsp;&emsp;SSH key采用了一种叫做”<a href="https://baike.baidu.com/item/%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/1208652?fr=aladdin">非对称加密</a>“的方式进行通信加密  </p><img src="/2021/08/28/SSHkey/wiki.png" class>  <p>Nicobon，<a href="https://commons.wikimedia.org/w/index.php?curid=48484042">CC BY-SA 4.0</a></p><p>其默认算法是<a href="https://baike.baidu.com/item/RSA%E7%AE%97%E6%B3%95/263310?fromtitle=RSA&fromid=210678&fr=aladdin">rsa算法</a>，用户需要与服务器建立连接时，就向服务器发起请求，同时将公钥（<font color="#fdb933">由私钥可以很容易生成公钥，但是由公钥生成私钥以目前的算力来说几乎不可能</font>）捎带上去，服务器将该密钥与留存在自己机器上的公钥相比对，如果有一致的话，就会向请求主机发送一个用该公钥加密的“challenge request”，只有私钥才能解密该“challenge request”并作出相应的回应.<br>&emsp;&emsp;这一系列的过程中，只有公钥在网络上进行了传递，私钥一直保存在了本机，相比于输入密码，密码通过网络传递到服务器再进行验证的过程来说，无疑是更加安全的.</p><h2 id="SSH-key使用"><a href="#SSH-key使用" class="headerlink" title="SSH key使用"></a>SSH key使用</h2><p>&emsp;&emsp;一般在发行版的linux中，系统在第一次初始化的时候都会生成默认的公钥和私钥对，存放路径在/etc/ssh/ 文件夹下：</p><img src="/2021/08/28/SSHkey/sshkey.png" class title="sshkey"><p>里面预置了许多算法，如dsa、rsa、ecdsa等，一般的sshkeys都会使用rsa算法来生成密钥对.要使用该密钥对，可以进行如下操作:  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cp /etc/ssh/ssh_host_rsa_key.pub  ~/.ssh/id_rsa</span><br><span class="line">sudo chmod 600  ~/.ssh/id_rsa</span><br><span class="line"># 如果有特定的端口，请用 scp -P port 指定</span><br><span class="line">scp /etc/ssh/ssh_host_rsa_key   usr@host:~</span><br><span class="line"># 连接到服务器</span><br><span class="line">ssh usr@host</span><br><span class="line">sudo cat ~/ssh_host_rsa_key  &gt;&gt; ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure><p>*<strong>注意*：id_rsa的权限（包括.ssh目录权限）不能过高，一般600即可，否则会报错</strong></p><img src="/2021/08/28/SSHkey/rsaerror.png" class title="error"><p>&emsp;&emsp;此外，生成ssh-key密钥对还可以采用SSH-keygen的命令，这里也更推荐使用这种方法来使用ssh密钥，该方法可以在该用户目录下生成.ssh文件夹.并在该文件夹下存放密钥，不必担心文件权限的问题.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C  &quot;your comments&quot; </span><br></pre></td></tr></table></figure><p>-t 指代加密方式，方式有[ dsa | ecdsa | ecdsa-sk | ed25519 | ed25519-sk | <strong>rsa</strong> ]默认方式即为rsa<br>-C 则为注释，会显式放在公钥末尾上，可以由此辨别公钥.<br>输入命令之后，系统会让你输入密钥对存放路径，默认放在~/.ssh/ 路径下，确定好历经之后就要求输入密钥的密码（一般直接回车两次跳过即可） </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Enter file in which to save the key (/root/.ssh/id_rsa): /root/.ssh/id_rsa</span><br><span class="line">Enter passphrase (empty for no passphrase): </span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved in /root/ssh/id_rsa</span><br><span class="line">Your public key has been saved in /root/ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><p>将公钥复制到需要登陆的服务器上的authorized_keys之后，即可使用该ssh密钥对进行ssh密钥方式登录.  </p><h2 id="github-SSH-key添加方式"><a href="#github-SSH-key添加方式" class="headerlink" title="github SSH key添加方式"></a>github SSH key添加方式</h2><p>&emsp;&emsp;早在去年，github就宣布了要取消<a href="https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/">账户密码登录</a>的验证方式，并在今年8月13号正式实施.如今使用账号密码进行push时，github会直接拒绝验证，因此必须采取添加SSH密钥或其他的方式进行登录验证.在成功生成了SSH key密钥对之后，其实需要操作的步骤就很简单了</p><img src="/2021/08/28/SSHkey/addkey.png" class title="addkey">  <p>只需要将自己的id_rsa.pub中的内容复制，粘贴到key框中即可  </p><img src="/2021/08/28/SSHkey/addnew.png" class title="addnew"><p>可采用如下方法测试:  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br><span class="line">Hi mrilboom! You&#x27;ve successfully authenticated， but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure><p>之后登录github即可自动使用ssh密钥登录</p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> ssh </tag>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
